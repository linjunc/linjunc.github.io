# HTTP 协议相关面试题

## 常见的 HTTP 请求方法

- `GET` 方法：用于向服务器获取数据。只读取数据，不更改任何数据。相同的参数返回的结果相同
- `POST` 方法：提交一个实体（payload），用于创建新的实体和修改现有的实体。会更改状态或引起其他的副作用
- `PUT` 方法：用新的实体替换指定的资源。PUT 请求中发送的数据完全替换了指定的资源，并且如果指定的资源不存在，则创建一个新的资源。
- `DELETE`：删除指定的资源。DELETE 请求负责删除指定的资源
- `PATCH`：通过局部修改的方式更新指定的资源。PATCH 请求类似于 PUT 请求，但是它只更新指定资源的某些部分，而不是完全替换。
- `HEAD`：与 GET 请求相同，但不返回响应正文。HEAD 请求可以**检查服务器是否支持指定的资源类型**、检查文件是否存在以及获取与资源有关的元数据
- `OPTIONS`：列出对指定资源所支持的请求方法、标头和其他信息。OPTIONS 请求可用于**确定服务器支持哪些请求方法**，或者客户端可以在不实际执行操作的情况下测试服务器性能或配置。

## get 和 post 的区别

## post 和 put 的区别

## 对 Accept 系列字段了解多少？

## 常见的 content-type 有哪些？

## 对于定长和不定长的数据，HTTP 是怎么传输的？

## HTTP 如何处理大文件的传输？

## 介绍一下 options 请求

## HTTP 1.0 和 HTTP 1.1 之间有哪些区别

- **持久链接**：`HTTP 1.1` 支持持久连接，可以使客户端和服务端之间的连接保持打开状态，使多个 HTTP 请求复用同一个 TCP 连接，从而可以在同一连接上发送多个请求和响应，**减少每个请求的连接建立和关闭时间**，提高了性能
- **支持压缩**：`HTTP 1.1` 支持使用 gzip、deflate 和 compress 等压缩算法对请求和响应数据进行压缩，减少传输的数据量，提高传输效率
- **缓存控制**：`HTTP 1.1` 引入了新的缓存机制，包括在**客户端和服务器端指定缓存有效时间的首部字段**。`Etag`、`If-none-match` `Last-Modified`、`If-Modified-Since` 等
- **新增 Host 头部**：`HTTP1.1` 必须使用 Host 首部，以便能够支持多个虚拟主机。
- **范围请求**：`HTTP 1.1` 在请求头引入 range 头域，允许客户端请求服务器只返回资源的一部分，而不是整个资源，**返回码是 206**，便于开发者自由选择充分利用带宽
  - Range请求头有以下两种格式：

  - `Range: bytes=[start]-[end]`表示请求资源的起始字节和结束字节的位置，start和end都是可选的，默认是整个资源。
  - `Range: bytes=[start]-`表示从资源的起始字节位置到末尾的所有字节。

- **支持多种媒体类型**：`HTTP1.1` 引入了新的 MIME 媒体类型，如 `application/xml`、`application/json` 等，能够支持更多的数据格式和内容类型。

那么 HTTP 1.0 存在什么问题呢，为什么推出 HTTP1.1 呢？

## HTTP 1.0 存在什么问题呢？为什么需要升级 1.1 版本？

主要存在以下的问题

1. `HTTP1.0` **每次请求都需要建立新的 TCP 连接**，导致性能的浪费，因为连接的建立和释放都需要时间和计算资源，而每次只进行少量的数据传输，浪费连接浪费资源
2. `HTTP1.0` 没有长连接 `keep-alive` 的机制，每个请求结束后连接立即关闭，从而再次传输数据时需要再次建立连接，这种情况下多次连接的建立和释放会增加网络负载，导致请求的延迟和处理时间延长。
3. `HTTP1.0` 缺乏对虚拟主机的支持，**同一个 IP 地址下的多个站点共享一个资源**容易出现混乱，并且会使服务器的资源利用率降低，同时也会增加DNS服务器的负载。
4. `HTTP1.0` 传输的数据**没有分块传输的功能**，如果传输的数据量比较大，传输时间比较长，那么客户端需要在传输完整个数据之后才能处理响应，这会导致等待时间过长。
5. `HTTP1.0` 限制最大请求头长度为 1024字节，而最大响应头长度为 256字节，这个长度限制会导致传输的多余信息不能及时被截取，从而影响性能。

`HTTP1.1` 协议能够解决这些问题，通过持久连接、分块传输、虚拟主机的支持等机制，提供了更高效的数据传输方式，同时还支持对安全的加强，提高了网络质量。

同时 `HTTP/1.1` 中没有指定头部长度的具体限制，**但建议不要超过8KB**。这是因为较长的头部可能会导致网络延迟，浪费带宽并增加服务器负担。

# HTTPS 相关面试题

## HTTPS 了解吗？

:::tip
HTTPS 是采用 TLS 加密的 HTTP 协议，可以说是 HTTP 的安全版本，通过 TLS 协议对数据传输进行加密，以确保安全性

主要有 3 个特点，数据加密、数据不可被篡改、身份可验证
:::

## RSA 的握手过程？

:::tip
1. 首先客户端发送一个 客户端随机数、TLS 版本号、加密套件给服务器
2. 服务器确认 TLS 版本号，同时生成服务端随机数、需要的加密套件、CA 证书，发送给客户端
3. 客户端收到后，会对证书进行验证，如果验证成功会用 CA 证书的公钥生成一个 pre-master ，发送给服务器，并将前面通信的内容生成摘要，用 pre-master 加密，发送给服务器以验证通信内容没有被篡改。之后改用密钥通信
4. 此时客户端有客户端随机数、服务端随机数、pre-master，可以计算出会话密钥
5. 服务端收到用公钥加密的 pre-master 会用私钥进行解密，得到 pre-master 的内容，用同样的方式生成会话密钥，之后改用密钥通信
6. 之后就用这个对称密钥加密报文传输。
:::

## （追问）证书是如何认证的？

:::tip
其实认证证书就是通过浏览器或操作系统中的 CA 公钥解密证书的数字签名，得到证书数据的 hash，然后对数字证书的数据部分用同样的 hash 算法，生成 hash，对比 hash，来验证。

证书是服务器向 CA 申请的，需要提供服务端的公钥等相关信息，CA 会对服务器真实性进行验证，会把公钥还有相关信息打包成一个证书，对这个证书进行 hash + CA 密钥加密得到数字签名。最后 CA 会给服务端颁发数字签名后的证书。
:::

## （追问）RSA 有什么缺陷吗？
:::tip

最大问题是服务端私钥泄漏。

使用 RSA 密钥协商算法的最大问题是**不支持前向保密**。

因为客户端传递随机数给服务端时使用的是公钥加密的，服务端收到后，会用私钥解密得到随机数。所以一旦服务端的私钥泄漏了，过去被第三方截获的所有 TLS 通讯密文都会被破解。
:::
## ECDHE 了解吗？

:::tip
ECDHE 就解决了 RSA 私钥泄漏的问题
:::

## ECDHE 的握手过程？

:::tip

:::

## HTTPS 和 HTTP 的区别？

## HTTPS 解决了 HTTP 的哪些问题？

## HTTPS 通信时间总和是多少？
# 物理层

![mind](/img/network/physics/mind.png)

## 基本概念

物理层解决如何在连接各种计算机的传输媒体上**传输数据比特流，而不是指具体的传输媒体。**
物理层主要任务：确定与传输媒体接口有关的一些特性 定义标准

- 机械特性
定义物理连接的特性，规定物理连接时所采用的**规格、接口形状、引线数目、引脚数量和排列情况**

- 电气特性
规定传输二进制位时，线路上信号的**电压范围、阻抗匹配、传输速率和距离限制**等

- 功能特性
指明某条线上出现的**某一电平表示何种意义，接口部件的信号线的用途**

- 过程特性
定义各条物理线路的工作规程和时序关系

## 三种通信方式

从通信双方信息的交互方式看,有三种基本方式：

- 单工通信

只有一个方向的通信而没有反方向的交互，仅需要一条信道

- 半双工通信/双向交替通信

通信的双方**都可以发送或接收信息**，但任何一方都不能同时发送和接收，需要两条信道

- 全双工通信/双向同时通信

通信双方可以同时发送和接受信息，也需要两条信道

## 串行传输 并行传输

**串行传输**：表示一个字符的 8 位二进制数按由低位到高位的顺序依次发送

**速度慢，费用低，适合远距离**

**并行传输**：表示一个字符的 8 位二进制数同时通过8条信道发送

**深度快，费用高，适合近距离**

![physics](/img/network/physics/physics-1.png)

## 码元

就是固定时长的信号波形，代表离散数值的基本波形

码元就是在网线上传输的一个个信号段。码元的不同进制就是用来表示不同的数值的

例如，在使用**二进制编码**时，只有两种不同的码元，一种代表0状态，另一种代表1状态。

## 速率

分为码元传输速率和信息传输速率

**码元传输速率**：单位时间内数字通信系统所传输的码元个数，单位是波特（Baud）

**信息传输速率**：单位时间内数字通信系统传输的二进制码元个数，单位 b/s，就是我们平常说的网速

:::tip TIPS

- 码元可以理解为几个比特的集合，所以信息传输速率（网速）= 码元传输速率 x 码元所带信息量（多少比特）
- 码元所带信息量 = log 2 为底（码元进制数）
:::

## 奈氏准则和香农定理

### 奈氏准则（自身）

**奈氏准则**：在理想低通（无噪声，带宽受限）条件下，**为了避免码间串扰**，极限码元传输速率为 2W Baud，W 是信道带宽，单位是 Hz。

- 奈氏准则给出了**码元传输速率的限制**，但并**没有对信息传输速率**给出限制

### 香农定理（外部）

产生的原因：噪声随机产生，瞬时值可能会很大，因此会使接受端对码元判决产生错误，但是噪声的影响和信号的强度是相对的。因此信噪比非常重要

香农定理：在带宽受限且有噪声的信道中，**为了不产生误差，信息的数据传输速率有上限值。**

- 香农定理得出的为**极限信息传输速率**，实际信道能达到的传输速率要比它低不少
- 只要信息的传输速率**低于**信道的极限传输速率，就一定能找到某种方法来实现无差错的传输

## 物理层传输介质

### 导向传输介质

- 双绞线
  - 绞合可以**减少对相邻导线的电磁干扰**
  - 便宜
  - 距离太远时，对于模拟传输，要用放大器**放大衰弱**的信号；对于数字传输，要用中继器将失真的**信号整形**。
- 同轴电缆
  - 同轴电缆**抗干扰特性**比双绞线好
- 光纤
  - 光纤的工作原理
    - 光纤在纤芯中传输的方式是不断地全反射
  - 特点
    - 传输**损耗小，中继距离长**，对远距离传输特别经济
    - 抗雷电和电磁干扰性能好
    - 无串音干扰，保密性好，也不易被窃听或截取数据
    - 体积小，重量轻

### 非导向传输介质

- 无线传输所使用的频段很广。
- 短波通信主要是靠电离层的反射，但短波信道的通信质量较差。
- 微波在空间主要是直线传播。
  - 卫星通信  
  - 地面微波接力通信

## 物理层设备

### 中继器

**诞生原因**：由于存在损耗，在**线路上传输的信号功率会逐渐衰减**，衰减到一定程度时将造成**信号失真**，因此会导致接收错误。

**中继器的功能**： 对信号进行**再生和还原**，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。

**中继器的两端**：两端的网络部分是**网段**，而不是子网，适用与完全相同的两类网络的互连，且两个**网段速率要相同**。

中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并**不管数据中是否有错误数**据或不适于网段的数据。

**中继器两端的网段一定要是同一协议。**

#### 为什么需要中继器呢？

因为再线路上传输的信号功率会逐渐衰减，衰减到一定程度时将造成信号失真，因此会导致接收错误。

### 集线器（多口中继器）

**集线器的功能**：对信号进行再生放大转发，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。
不具备信号的定向传送能力，是一个共享式设备。


## Q & A

### 物理层有啥用？

对于物理层，有人会说，这不就是网线吗，比如家里连接路由器的网线，电线杆上的光纤？其实不然，物理层更多的是 `规定一种标准` ，他并不管物理介质具体是什么，比如电线杆上是光纤还是双绞线，只要你能按物理层规定的标准传输数据就行。
那物理层到底有哪些主要任务呢？

比如说，规定了 `电气特性` ，信号的电平用 +10V - +15V 表示二进制的 0，用 -10V - -15V 表示二进制的 1，只要条网线能表示这个特性，就不管你用什么材料了。
当然还有其它特性，我们不需要了解，`知道物理层是规定传输媒体接口的标准` 即可。

### 光纤宽带上网是以什么样的形式传输数据呢？

- 首先计算机 `网卡` 传输出来的数据是 `电信号`，`光纤` 传输的是 `光脉冲` 信号，有光脉冲表示1，无光脉冲表示0。

- 而可见光的频率大约是 `10的8次方MHz` ，因此光纤通信系统的带宽远远大于其它各种传输媒体的带宽

- 所以我们计算机传输数据需要先把**电信号转为光信号**，然后 `光信号` 快到服务器的时候，再把 `光信号` 转为 `电信号`。

## 总结

本章思维导图
![mind](/img/network/physics/mind.png)

参考资料

- [掘金文章](https://juejin.cn/post/6844904079974465544#heading-7)

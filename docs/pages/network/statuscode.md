# HTTP 状态码

:::tip
完整可以看 MDN： [状态码](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status)
:::

## 状态码类别

| `1xx` |   信息性状态码   |      接收的请求正在处理      |
| ----- | :--------------: | :--------------------------: |
| `2xx` |    成功状态码    |       请求正常处理完毕       |
| `3xx` |   重定向状态码   | 需要进行附加操作才能完成请求 |
| `4xx` | 客户端错误状态码 |      服务器无法处理请求      |
| `5xx` | 服务端错误状态码 |      服务器处理请求出错      |

1. 1xx：信息性状态码，接收的请求正在处理
   - `100`，这个临时响应表明，迄今为止的所有内容都是可行的，客户端应该继续请求，如果已经完成，则忽略它，服务器必须在请求完成后向客户端发送一个最终响应
   - `101`：Switching Protocols，在升级 Websocket 的时候，如果服务端同意变更协议，就会返回这个状态码
2. 2xx：成功请求，请求正常处理完毕
   - `200`：OK 表示从客户端发的请求服务端正确处理了
   - `201`: Created 请求成功并且服务器创建了新的资源，这通常是在 POST 请求，或是某些 PUT 请求之后返回的响应。
   - `204`：`No content` 服务器成功处理了请求，但是**没有返回任何内容**
   - `205`：`reset content` 请求成功 并且要求客户端重置视图
   - `206` `partial content` 进行范围请求，使用 Range 字段的时候，会返回这个状态码进行响应
3. `3xx` 重定向
   - `301`: 永久性重定向 请求的资源已经**永久移动到新的位置**，搜索引擎会记录 301 的 location 指向的地址
   - `302`：临时性重定向 表示请求的资源已经**临时移动到新的位置**，未登录的用户重定向到登录页面，登录成功后，再重定向到之前的页面
   - `303`: 重定向 资源存在另一个`URL` 应该用`get`方法获取资源(一般用于上传文件后，返回的重定向到消息确认页面或者上传进度页面)
   - `304`: `not modified` 客户端可以通过本地缓存来更新，所请求的资源未修改。
   - `307`: 临时重定向 但是与 303 不同的是期望客户端**保持请求方法不变向新的地址发出请求**
     - （一般浏览器会自动由 post -> get 但是307不会 还是 post -> post）
4. `4xx` 客户端错误
   - `400` `bad request` 请求报文语法错误或格式不对
   - `401` `unauthorized` 表示请求需要**身份验证**
   - `403` `forbidden` 请求资源被服务器**拒绝**
   - `404` `not found` 在服务器未找到请求的资源
   - `405` `method not allow` 服务器禁止使用这种方法

5. `5xx` 服务器错误
    - `500`: `internal server error` 服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理
    - `501`: `not implemented` 服务器不支持当前请求所需要的某个功能
    - `502`: `bad gateway` （错误网关）服务器作为网关或代理，从上游服务器收到无效响应
    - `503`: `service unavailable` 服务器暂时在**超负载**或停机维护(`nginx`限速)
    - `504`: `gateway timeout` 网关或代理服务器无法在规定时间获得响应(代码执行时间超过 或 死循环)

## 同样是重定向 `302` `303` `307`有什么区别

`302` 是 `http1.0` 的协议状态码，在 `HTTP1.1` 后为了细化 `302`，又分出了 `303` 和 `307`

这三个状态码都是临时重定向，但是有一些区别

303 重定向是对 POST 请求的安全处理，客户端使用 POST 来请求资源时，如果资源需要进行重定向，则服务端需要返回一个 303 状态码，告诉客户端使用 GET 来获取资源，以避免数据安全的问题

303 和 307 的区别在于 303 期望客户端**使用 GET 方法来获取资源**，而 307 期望客户端**保持原有的请求方法**

## 浏览器会缓存 301 页面吗？如何清除缓存？

假设不小心将初始页面永久重定向到 301 页面，想要临时重定向到 302 页面。

会发现 浏览器会缓存 301 页面，即使是临时重定向到 302 页面，浏览器也会缓存 301 页面。

:::tip
**如果我们没有提供明确的缓存头，浏览器就会默认永久缓存 301 响应，因为 301 是永久重定向的意思。**
:::

**如何清除 301 重定向**

- 控制台禁用缓存
- 清楚历史记录
- Network -> Disable Cache
- 强刷浏览器

或者可以在服务端设置 `Cache-Control: no-cache`

## 介绍一下 304 的过程

## HTTP 状态码 304 越多越好吗？

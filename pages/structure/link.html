<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【化解数据结构】详解链表结构，并实现一个链表 | 小丞前端之路</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/orange.png">
    <meta name="description" content="嘟嘟嘟~~发车啦，快来和博主一起飙车啦！😊文末附上力扣相关题目。关于链表的全部讲解，图文解析超级详细！">
    
    <link rel="preload" href="/assets/css/0.styles.c6d750c1.css" as="style"><link rel="preload" href="/assets/js/app.84aca76e.js" as="script"><link rel="preload" href="/assets/js/2.195f2158.js" as="script"><link rel="preload" href="/assets/js/41.0465ba85.js" as="script"><link rel="prefetch" href="/assets/js/10.19dacd57.js"><link rel="prefetch" href="/assets/js/11.554dfe83.js"><link rel="prefetch" href="/assets/js/12.872cae40.js"><link rel="prefetch" href="/assets/js/13.49623c48.js"><link rel="prefetch" href="/assets/js/14.820dbeb4.js"><link rel="prefetch" href="/assets/js/15.8e03246d.js"><link rel="prefetch" href="/assets/js/16.02f01159.js"><link rel="prefetch" href="/assets/js/17.40710f51.js"><link rel="prefetch" href="/assets/js/18.eb977535.js"><link rel="prefetch" href="/assets/js/19.e9c20797.js"><link rel="prefetch" href="/assets/js/20.741e51c3.js"><link rel="prefetch" href="/assets/js/21.60b540ac.js"><link rel="prefetch" href="/assets/js/22.cfaa5929.js"><link rel="prefetch" href="/assets/js/23.eaa38f81.js"><link rel="prefetch" href="/assets/js/24.734bd00e.js"><link rel="prefetch" href="/assets/js/25.526c02ff.js"><link rel="prefetch" href="/assets/js/26.ae528570.js"><link rel="prefetch" href="/assets/js/27.f6d05eee.js"><link rel="prefetch" href="/assets/js/28.e13ce5e2.js"><link rel="prefetch" href="/assets/js/29.d44f5e71.js"><link rel="prefetch" href="/assets/js/3.9ef2866a.js"><link rel="prefetch" href="/assets/js/30.46ef531d.js"><link rel="prefetch" href="/assets/js/31.92a3ad27.js"><link rel="prefetch" href="/assets/js/32.b7a8a4bb.js"><link rel="prefetch" href="/assets/js/33.5f8bcb25.js"><link rel="prefetch" href="/assets/js/34.9d1ef303.js"><link rel="prefetch" href="/assets/js/35.314c49c4.js"><link rel="prefetch" href="/assets/js/36.82828e59.js"><link rel="prefetch" href="/assets/js/37.d11e77ed.js"><link rel="prefetch" href="/assets/js/38.1ba8c945.js"><link rel="prefetch" href="/assets/js/39.006d6795.js"><link rel="prefetch" href="/assets/js/4.d68eba5c.js"><link rel="prefetch" href="/assets/js/40.a0757091.js"><link rel="prefetch" href="/assets/js/42.ad52fa52.js"><link rel="prefetch" href="/assets/js/43.0ca69b9d.js"><link rel="prefetch" href="/assets/js/44.fcbe4b55.js"><link rel="prefetch" href="/assets/js/45.c1f60df9.js"><link rel="prefetch" href="/assets/js/46.aaf4c807.js"><link rel="prefetch" href="/assets/js/47.0d7af8bb.js"><link rel="prefetch" href="/assets/js/48.6bac5f1d.js"><link rel="prefetch" href="/assets/js/49.e62f1089.js"><link rel="prefetch" href="/assets/js/5.73e212b6.js"><link rel="prefetch" href="/assets/js/50.643246ed.js"><link rel="prefetch" href="/assets/js/51.dacd1276.js"><link rel="prefetch" href="/assets/js/52.fce8bdff.js"><link rel="prefetch" href="/assets/js/53.e7921e5a.js"><link rel="prefetch" href="/assets/js/54.f42c4ff3.js"><link rel="prefetch" href="/assets/js/55.6a8113fb.js"><link rel="prefetch" href="/assets/js/56.24479220.js"><link rel="prefetch" href="/assets/js/57.d18d7f86.js"><link rel="prefetch" href="/assets/js/58.533f3d2c.js"><link rel="prefetch" href="/assets/js/59.8e258a6a.js"><link rel="prefetch" href="/assets/js/6.c352959d.js"><link rel="prefetch" href="/assets/js/60.4d2d6af0.js"><link rel="prefetch" href="/assets/js/61.346c29af.js"><link rel="prefetch" href="/assets/js/7.a48ee71d.js"><link rel="prefetch" href="/assets/js/8.7c498576.js"><link rel="prefetch" href="/assets/js/9.8a5b8813.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c6d750c1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/orange.png" alt="小丞前端之路" class="logo"> <span class="site-name can-hide">小丞前端之路</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各类知识点" class="dropdown-title"><span class="title">各类知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="各类知识点" class="mobile-dropdown-title"><span class="title">各类知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/summary/qrcode.html" class="nav-link">
  前端总结
</a></li><li class="dropdown-item"><!----> <a href="/pages/structure/start.html" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端面试合集" class="dropdown-title"><span class="title">前端面试合集</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端面试合集" class="mobile-dropdown-title"><span class="title">前端面试合集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/heading/best1.html" class="nav-link">
  面试题精选
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React 全家桶" class="dropdown-title"><span class="title">React 全家桶</span> <span class="arrow down"></span></button> <button type="button" aria-label="React 全家桶" class="mobile-dropdown-title"><span class="title">React 全家桶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/react/primary/jsx.html" class="nav-link">
  React 入门
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><span class="title">关于我</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于我" class="mobile-dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/about/about.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/linjunc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1460594842018446" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/m0_50855872" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各类知识点" class="dropdown-title"><span class="title">各类知识点</span> <span class="arrow down"></span></button> <button type="button" aria-label="各类知识点" class="mobile-dropdown-title"><span class="title">各类知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/summary/qrcode.html" class="nav-link">
  前端总结
</a></li><li class="dropdown-item"><!----> <a href="/pages/structure/start.html" class="nav-link">
  数据结构和算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端面试合集" class="dropdown-title"><span class="title">前端面试合集</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端面试合集" class="mobile-dropdown-title"><span class="title">前端面试合集</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/interview/heading/best1.html" class="nav-link">
  面试题精选
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React 全家桶" class="dropdown-title"><span class="title">React 全家桶</span> <span class="arrow down"></span></button> <button type="button" aria-label="React 全家桶" class="mobile-dropdown-title"><span class="title">React 全家桶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/react/primary/jsx.html" class="nav-link">
  React 入门
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于我" class="dropdown-title"><span class="title">关于我</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于我" class="mobile-dropdown-title"><span class="title">关于我</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/about/about.html" class="nav-link">
  关于我
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/linjunc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/1460594842018446" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/m0_50855872" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据结构和算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/structure/start.html" class="sidebar-link">从这里开启数据结构和算法</a></li><li><a href="/pages/structure/stack.html" class="sidebar-link">详解栈结构，并实现一个栈结构</a></li><li><a href="/pages/structure/queue.html" class="sidebar-link">详解队列结构，并实现一个队列结构</a></li><li><a href="/pages/structure/link.html" aria-current="page" class="active sidebar-link">详解链表结构，并实现一个链表结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_1-什么是链表" class="sidebar-link">1. 什么是链表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_1-1-链表的优点" class="sidebar-link">1.1 链表的优点</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_1-2-链表的缺点" class="sidebar-link">1.2 链表的缺点</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_1-3-单向链表与数组各个操作时间复杂度对比" class="sidebar-link">1.3 单向链表与数组各个操作时间复杂度对比</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_1-4-链表的分类" class="sidebar-link">1.4 链表的分类</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_2-使用js实现链表" class="sidebar-link">2. 使用JS实现链表</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_2-1-单向链表" class="sidebar-link">2.1 单向链表</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_2-2-双向链表" class="sidebar-link">2.2 双向链表</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_2-3-单向循环链表" class="sidebar-link">2.3 单向循环链表</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_2-4-双向循环链表" class="sidebar-link">2.4 双向循环链表</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_3-相关题目" class="sidebar-link">3. 相关题目</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_3-1-反转链表-链接直达噢" class="sidebar-link">3.1 反转链表（链接直达噢！）</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_3-2-合并k个升序链表" class="sidebar-link">3.2 合并K个升序链表</a></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_3-3-删除链表的倒数第-n-个结点" class="sidebar-link">3.3 删除链表的倒数第 N 个结点</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/structure/link.html#_4-小结" class="sidebar-link">4. 小结</a></li></ul></li><li><a href="/pages/structure/set.html" class="sidebar-link">详解集合结构，并实现一个集合</a></li><li><a href="/pages/structure/map.html" class="sidebar-link">详解字典结构，并实现一个字典</a></li><li><a href="/pages/structure/tree.html" class="sidebar-link">详解树结构，并实现二叉搜索树</a></li><li><a href="/pages/structure/graph.html" class="sidebar-link">详解图结构，并实现一个图结构</a></li><li><a href="/pages/structure/heap.html" class="sidebar-link">详解堆结构，并实现一个最小堆</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>嘟嘟嘟~~发车啦，快来和博主一起飙车啦！😊文末附上力扣相关题目</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E7%81%AB%E8%BD%A6.jpg" alt="火车"></p> <blockquote><p>不止图文解释，注释也很清晰噢！👍</p></blockquote> <h2 id="_1-什么是链表"><a href="#_1-什么是链表" class="header-anchor">#</a> 1. 什么是链表</h2> <p>链表是一组由节点组成的集合，每个节点都有<strong>一个指针指向它的下一个节点</strong>。举个栗子来说，就像上图的小火车一样，每一节车厢之间都通过绳索相连接，每节车厢都是一个节点，车厢间的连接就是指针❤️</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E9%93%BE%E8%A1%A82.png" alt="链表2"></p> <blockquote><p>那了解了什么是链表之后，很多小伙伴就会想，这和数组<strong>有什么区别</strong>呢？数组操作不是更方便吗？</p></blockquote> <p>数组的大小是固定的，从数组的起点或中间插入或移除项的操作成本很高，因为需要移动元素（尽管我们已经学过很多的<code>API</code>，但背后的情况同样是这样）</p> <h3 id="_1-1-链表的优点"><a href="#_1-1-链表的优点" class="header-anchor">#</a> 1.1 链表的优点</h3> <p>相对于传统的数组，链表的一个好处在于，添加或移除元素的时候==不需要移动其他元素==。这样添加、移除操作的==时间复杂度==就为<code>O(1)</code>。下图就是一个单向链表插入节点的示意图，我们只需要改变前一个节点的<code>next</code>指针并且修改新节点的<code>next</code>指针是链表连接起来即可完成</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E9%93%BE%E8%A1%A81.png" alt="链表1"></p> <h3 id="_1-2-链表的缺点"><a href="#_1-2-链表的缺点" class="header-anchor">#</a> 1.2 链表的缺点</h3> <p>相对于数组而言，数组在访问一个元素的时候，可以直接通过索引来直接访问，而对于链表而言访问其中的一个元素，需要从起点开始迭代整个链表直到找到所需的元素。因此访问的时间复杂度落在<code>O(1)-O(n)</code>之间</p> <h3 id="_1-3-单向链表与数组各个操作时间复杂度对比"><a href="#_1-3-单向链表与数组各个操作时间复杂度对比" class="header-anchor">#</a> 1.3 单向链表与数组各个操作时间复杂度对比</h3> <table><thead><tr><th>链表操作</th> <th>最大时间复杂度</th> <th>数组操作</th> <th>最大时间复杂度</th></tr></thead> <tbody><tr><td>search（访问）</td> <td><code>O(n)</code></td> <td>search（访问）</td> <td><code>O(1)</code></td></tr> <tr><td>insert（插入）</td> <td><code>O(1)</code></td> <td>insert（插入）</td> <td><code>O(n)</code></td></tr> <tr><td>remove（删除）</td> <td><code>O(1)</code></td> <td>remove（删除）</td> <td><code>O(n)</code></td></tr> <tr><td>append （添加）</td> <td><code>O(1)</code></td> <td>append （添加）</td> <td><code>O(1)</code></td></tr></tbody></table> <h3 id="_1-4-链表的分类"><a href="#_1-4-链表的分类" class="header-anchor">#</a> 1.4 链表的分类</h3> <p>有三种：单向链表、双向链表、循环链表</p> <h4 id="_1-4-1-单向链表"><a href="#_1-4-1-单向链表" class="header-anchor">#</a> 1.4.1 单向链表</h4> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E9%93%BE%E8%A1%A82.png" alt="链表2"></p> <h4 id="_1-4-2-双向链表"><a href="#_1-4-2-双向链表" class="header-anchor">#</a> 1.4.2 双向链表</h4> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A81-1622280757149.png" alt="双向链表1"></p> <h4 id="_1-4-3-循环链表"><a href="#_1-4-3-循环链表" class="header-anchor">#</a> 1.4.3 循环链表</h4> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E5%8D%95%E5%90%91-1622280742671.png" alt="循环链表单向"></p> <h2 id="_2-使用js实现链表"><a href="#_2-使用js实现链表" class="header-anchor">#</a> 2. 使用JS实现链表</h2> <p>了解了什么是链表，接下来我们使用js来实现链表的相关操作</p> <h3 id="_2-1-单向链表"><a href="#_2-1-单向链表" class="header-anchor">#</a> 2.1 单向链表</h3> <h4 id="_2-1-1-创建一个单向链表"><a href="#_2-1-1-创建一个单向链表" class="header-anchor">#</a> 2.1.1 创建一个单向链表</h4> <p>以下是一个<code>LinkedList</code>的基本骨架</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">class</span> <span class="token class-name">LinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 链表的长度size</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//添加链表项</span>
    <span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">//插入链表项</span>
    <span class="token function">appendAt</span><span class="token punctuation">(</span><span class="token parameter">position<span class="token punctuation">,</span> element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">// 删除指定列表项</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">//删除指定位置链表项</span>
    <span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">// 查找指定元素索引</span>
    <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">// 翻转链表</span>
    <span class="token function">reserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token comment">// 获取节点</span>
    <span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//测试</span>
<span class="token keyword">let</span> l1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>链表数据结构还需要一个<code>Node</code>辅助类。<code>Node</code>类表示要加入列表的项。它包含一个<code>element</code>属性，即要添加到列表的值，以及一个<code>next</code>属性，即指向列表中下一个节点
项的指针。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// node类</span>
<span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element<span class="token punctuation">;</span>
        <span class="token comment">// 添加一个指针</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>另一个重要的点是，我们还需要<strong>存储第一个节点的引用</strong>。为此，可以把这个引用存储在一个称为<code>head</code>的变量当中，接下来我们就要来实现<code>LinkedList</code>类中为填写的方法。</p> <ul><li><code>append(element)</code> ：向链表尾部添加一个新的项</li> <li><code>appendAt(position, element)</code> ： 向链表的特定位置插入一个新的项</li> <li><code>remove(element)</code>：从列表中移除一项</li> <li><code>removeAt(position)</code>：从列表的特定位置移除一项</li> <li><code>getNode(index)</code>：获取某个位置的节点</li> <li><code>reserve()</code>：反转链表</li></ul> <h4 id="_2-1-2-获取链表中的节点"><a href="#_2-1-2-获取链表中的节点" class="header-anchor">#</a> 2.1.2 获取链表中的节点</h4> <blockquote><p>先写这个是因为后面的很多方法中都有使用到这个函数！其实也可以不用单独封装成一个函数，存粹个人习惯</p></blockquote> <p>传入一个需要查找的节点位置，通过<code>for</code>循环，不断地让<code>current</code>指向下一位，直至到达<code>index</code>的位置，跳出<code>for</code>循环，返回当前<code>current</code>节点🍊</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E9%93%BE%E8%A1%A8%E8%BF%AD%E4%BB%A3.png" alt="链表迭代"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断 传入的参数是否在链表的长度范围之内</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'out'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span>
    <span class="token comment">// 不断的让current移到下一位，直到到达index - 1位置</span>
    <span class="token comment">// 也就是循环遍历的过程</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        current <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 最后返回节点</span>
    <span class="token keyword">return</span> current
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_2-1-3-向链表尾部追加元素"><a href="#_2-1-3-向链表尾部追加元素" class="header-anchor">#</a> 2.1.3 向链表尾部追加元素</h4> <p>有两种场景：</p> <ol><li>列表<strong>为空</strong>，添加的是第一个元素</li> <li>列表<strong>不为空</strong>，向其追加元素</li></ol> <p>下面是我们实现的<code>append</code>方法，通过上一部分的<code>getNode</code>方法，获取到链表的最后一个节点，让最后一个节点的<code>next</code>指针<strong>指向新创建的节点</strong><code>node</code>，使得链表串联起来，最后让链表长度<code>size</code>自加，即可实现 ☘️</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过实例化添加属性</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 添加操作</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 最后一个节点的next指向新创建的节点</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> node
    <span class="token punctuation">}</span>
    <span class="token comment">//添加链表项后，size自增</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>注意</strong>：这里的节点创建是通过<code>new</code>操作符实现的，构造出来的<code>node</code>是一个对象，带有了自身的值<code>element</code>和<code>next</code>指针，新创建的节点<code>next</code>指针默认指向<code>null</code></p> <h4 id="_2-1-4-向链表的任意位置插入一个元素"><a href="#_2-1-4-向链表的任意位置插入一个元素" class="header-anchor">#</a> 2.1.4 向链表的任意位置插入一个元素</h4> <p>因为是通过位置来插入元素，所以首先要判断该位置是否越界。如果越界了，可以直接抛出错误。同样的有2种场景：</p> <p><strong>第一种场景</strong>：需要在列表的起点添加一个元素，也就是第一个位置，让新创建的节点<code>next</code>指针指向头节点，也就是<code>this.head</code>，再将新创建的节点设为头节点🎉</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/appendAt.png" alt="appendAt"></p> <p><strong>第二种场景</strong>：非起点插入。首先需要找到插入位置的前一个节点<code>pre</code>，让新创建的节点指向<code>pre</code>的下一个节点<code>pre.next</code>，再让<code>pre</code>节点的<code>next</code>指针指向新创建的节点🍎</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/appendAt2.png" alt="appendAt2"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//插入链表项</span>
<span class="token function">appendAt</span><span class="token punctuation">(</span><span class="token parameter">position<span class="token punctuation">,</span> element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 实例化创建节点</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//起点插入</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 找到需要插入位置的前一个节点</span>
        <span class="token keyword">let</span> pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 让新创建的节点指向当前前一个节点的下一个节点</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> pre<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token comment">// 让前一个节点指向新创建的节点</span>
        pre<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_2-1-5-从链表中移除元素-根据特定位置移除"><a href="#_2-1-5-从链表中移除元素-根据特定位置移除" class="header-anchor">#</a> 2.1.5 从链表中移除元素（根据特定位置移除）</h4> <p>移除元素也有两种场景：第一种是移除第一个元素，第二种是移除第一个以外的任一元素。同样的我们需要先进行边界判断，在链表长度外的抛出错误即可。🍌</p> <p>第一种场景非常简单，由于移除的是第一个节点，只需要让head指向列表的第二个元素</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/removeAt.png" alt="removeAt"></p> <p>现在，假设我们要移除列表的最后一项或者中间某一项。首先我们需要获取到被删除节点的前一个节点，让该节点的<code>next</code>指针指向被删除节点的下一个节点。这样，被遗弃的元素就会被丢弃在计算机内存中，等着被垃圾回收器清除。🍐</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/removeAt2.png" alt="removeAt2"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//删除指定位置链表项</span>
<span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断，超出链表长度，抛出错误</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果删除的是第一个节点，则让head指向下一位即可</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取删除位置的前一个节点</span>
        <span class="token keyword">let</span> pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// current为被删除节点</span>
        current <span class="token operator">=</span> pre<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token comment">// 让前一个节点指向删除节点的下一个节点</span>
        pre<span class="token punctuation">.</span>next <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 长度自减</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_2-1-6-查找元素在链表的位置"><a href="#_2-1-6-查找元素在链表的位置" class="header-anchor">#</a> 2.1.6 查找元素在链表的位置</h4> <p>我们需要一个变量来帮助我们循环访问列表，也就是代码中的<code>current</code>，它的初始值是<code>head</code>。通过<code>for</code>循环来遍历链表，判断当前位置的值是否等于查找值，如果是，就返回它的位置；如果不是，就继续向下访问。如果<code>for</code>循环结束还未弹出，说明到达了链表的尾部，也就是说链表中不存在该元素，返回<code>-1</code>。💟</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 查找指定元素索引</span>
<span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前链表头节点</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span> 
    <span class="token comment">// 遍历整个链表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>element <span class="token operator">===</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> i
        <span class="token punctuation">}</span>
        <span class="token comment">// 依次向下移动</span>
        current <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_2-1-7-根据元素值移除元素"><a href="#_2-1-7-根据元素值移除元素" class="header-anchor">#</a> 2.1.7 根据元素值移除元素</h4> <p>现在有了<code>indexOf</code>方法，我们可以传入元素的值，找到它的位置，然后调用<code>removeAt</code>方法并传入找到的位置，就能实现移除元素🌳</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取需要删除元素在链表的位置</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>index<span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过下面的removeAt方法删除指定位置节点</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 删除不存在的元素，抛出错误</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'element no found'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-1-8-反转链表"><a href="#_2-1-8-反转链表" class="header-anchor">#</a> 2.1.8 反转链表</h4> <blockquote><p>反转链表在<code>leetcode</code>中经常会遇到，在各个面试题中也都会发现它的身影。所以，这里就顺带写以下</p></blockquote> <p>首先定义两个指针：<code>prev</code> 和 <code>current</code>,<code>current</code> 在前 <code>prev</code> 在后。每次让 <code>current</code>的 <code>next</code>指针指向<code>prev</code>，实现一次局部反转，局部反转完成之后，<code>prev</code> 和<code>current</code>同时往前移动一个位置，循环这个过程，直到<code>current</code>到达链表尾部，实现动画如下</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/list2.gif" alt="list"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">reserve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 保存当前的下一位</span>
        <span class="token keyword">let</span> next <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token comment">// 让当前节点指向前面的节点prev</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> prev<span class="token punctuation">;</span>
        <span class="token comment">// 交换完之后，让prev移到下一位也就是current</span>
        prev <span class="token operator">=</span> current<span class="token punctuation">;</span>
        current <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//返回翻转的链表</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> prev
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_2-2-双向链表"><a href="#_2-2-双向链表" class="header-anchor">#</a> 2.2 双向链表</h3> <p>双向链表和单向链表的区别在于，单向链表一个节点只有链向下一个节点的指针，而在双向链表中，有两个指针，一个指向前一个元素，一个指向下一个元素，示意图如下：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A81.png" alt="双向链表1"></p> <h4 id="_2-2-1-创建一个双向链表"><a href="#_2-2-1-创建一个双向链表" class="header-anchor">#</a> 2.2.1 创建一个双向链表</h4> <p>相较于单向链表多了一个指向前一个元素的指针，所以在代码中要进行一些修改</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//一个链表节点</span>
<span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token comment">//新增</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//双向链表</span>
<span class="token keyword">class</span> <span class="token class-name">doubleLinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token keyword">null</span><span class="token comment">//新增</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 这里是接下来写的方法</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>双向链表的优点</strong>：可以访问一个特定节点的下一个或==前一个==元素。在单向链表中，如果迭代链表时错过了要查找的元素，就需要回到链表的起点<strong>重新开始迭代</strong>😓</p> <p><strong>注意</strong>：在<code>doubleLinedList</code>类中有保存对列表最后一项的引用的tail属性。</p> <h4 id="_2-2-2-获取链表中的节点"><a href="#_2-2-2-获取链表中的节点" class="header-anchor">#</a> 2.2.2 获取链表中的节点</h4> <p>根据位置获取链表的方法和单向链表中的是相同，忘记了记得跳回去看看噢！❤️</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 获取某个位置的节点，和单向链表相同</span>
<span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'out'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        current <span class="token operator">=</span> current<span class="token punctuation">.</span>next
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> current
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-2-3-向链表尾部追加节点"><a href="#_2-2-3-向链表尾部追加节点" class="header-anchor">#</a> 2.2.3 向链表尾部追加节点</h4> <p>相信看到这里的你，应该知道要先干嘛了吧！分两种情况</p> <p>第一种情况：链表为空</p> <p>第二种情况：链表不为空</p> <p>对于<strong>第一种情况</strong>而言，我们只需要让<code>head</code>和<code>tail</code>指向新创建的节点即可</p> <p>对于<strong>第二种情况</strong>，相对于单向链表而言，有一点不一样的地方，我们需要设置前驱指针。</p> <p>首先我们需要让最后一个节点的<code>next</code>指针<strong>指向新节点</strong>，再让新节点的<code>prev</code>指针<strong>指向前一个节点</strong>（也就是连接前的最后一个节点），最后记得将<code>tail</code>移向<strong>最后一个节点</strong>，同时<code>size</code>也要自增！下面是示意图，清晰明了👍</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A82.png" alt="双向链表2"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建节点</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token comment">// 保存当前指向最后一个元素的指针</span>
    <span class="token keyword">let</span> tail <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail
    <span class="token comment">// 如果链表为空则新节点将作为第一个</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// head和tail都为node</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 常规尾插，让最后一个元素的next指针指向node  </span>
        tail<span class="token punctuation">.</span>next <span class="token operator">=</span> node
        <span class="token comment">// 再让node的前驱指针指向最后一个节点tail</span>
        node<span class="token punctuation">.</span>prev <span class="token operator">=</span> tail
        <span class="token comment">// 最后更新tail指向最后一个元素node</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_2-2-4-向链表中插入节点"><a href="#_2-2-4-向链表中插入节点" class="header-anchor">#</a> 2.2.4 向链表中插入节点</h4> <p>向双向链表中插入一个新节点和单向链表非常相似。区别在于，单向链表只需要控制一个<code>next</code>指针，而双向链表则要同时控制<code>next</code>和<code>prev</code>两个指针</p> <p>首先来分析<strong>第一种场景</strong>：在链表的<font color="#00a8ff">第一个位置</font>插入一个新节点。如果链表为空，只需要把<code>head</code>和<code>tail</code>都指向这个新节点。如果不为空，<code>current</code>变量将保存的是链表中第一个元素的引用，那么只需让新节点的<code>next</code>指针指向<code>current</code>，让<code>current</code>节点的<code>prev</code>指针指向新节点，最后让<code>head</code>指向第一个节点即可，==演示过程==如下：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A83.png" alt="双向链表3"></p> <p>接下来是<strong>第二种场景</strong>：<font color="#00a8ff">在尾部插入</font>，这个和上一个方法有点类似，可以查看上一小节，这里就不重复赘述了</p> <p><strong>最后一个场景</strong>也是相对复杂一点点的：在链表的<font color="#00a8ff">中间部分</font>插入</p> <p>通过前面写的<code>getNode</code>方法，获取到需要插入位置的<strong>前一个节点</strong><code>preNode</code>以及<strong>下一个节点</strong><code>current</code>，我们将在<code>current</code>和<code>preNode</code>元素<font color="#00a8ff">之间</font>插入新元素。首先，<code>node</code>节点的<code>next</code>指针指向<code>current</code>，再让<code>node</code>的<code>prev</code>指针指向<code>preNode</code>节点，再处理剩下两个指针分别指向<code>node</code>即可，演示图如下：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A84.png" alt="双向链表4"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 插入节点</span>
<span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">position<span class="token punctuation">,</span> element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断，输入的position需要在范围之内</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 创建节点</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token comment">// 保存第一个节点，为一个变量</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token comment">// 第一种情况，在最头部插入</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 链表为空的情况</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
            <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 链表不为空</span>
            <span class="token comment">// 让node的next指针指向第一个节点</span>
            node<span class="token punctuation">.</span>next <span class="token operator">=</span> current
            <span class="token comment">// 第一个节点的前驱指针指向node</span>
            current<span class="token punctuation">.</span>prev <span class="token operator">=</span> node
            <span class="token comment">// head指向新的第一个节点</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在最后插入</span>
        <span class="token comment">// current变量保存最后一个节点</span>
        current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail
        <span class="token comment">// 最后一个节点的next指针指向新节点</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> node
        <span class="token comment">// 新节点的前驱指针指向前一个节点</span>
        node<span class="token punctuation">.</span>prev <span class="token operator">=</span> current
        <span class="token comment">// tail移至node</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> node
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 在中间插入</span>
        <span class="token comment">// 获取插入位置的前一个节点</span>
        <span class="token keyword">let</span> preNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token comment">// current变量保存preNode节点的下一个节点</span>
        current <span class="token operator">=</span> preNode<span class="token punctuation">.</span>next
        <span class="token comment">// 1. 让node节点的next指针指向后一个节点current</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> current
        <span class="token comment">// 2. 让node节点的prev指针指向前一个节点preNode</span>
        node<span class="token punctuation">.</span>prev <span class="token operator">=</span> preNode
        <span class="token comment">// 3. 让preNode节点的next指针指向新节点</span>
        preNode<span class="token punctuation">.</span>next <span class="token operator">=</span> node
        <span class="token comment">// 4. 让current节点的prev指针指向新节点</span>
        current<span class="token punctuation">.</span>prev <span class="token operator">=</span> node
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p><font color="#e84118">注意：</font>在我们封装的<code>getNode</code>方法中，无论如何都是从头开始遍历的，实际上我们可以优化这个过程，当我们要找的<code>position</code>大于<code>size</code>的一半时，我们可以从<font color="#e84118">尾部开始遍历</font>，这样可以提高性能。</p> <h4 id="_2-2-5-从链表中的特定位置删除元素"><a href="#_2-2-5-从链表中的特定位置删除元素" class="header-anchor">#</a> 2.2.5 从链表中的特定位置删除元素</h4> <p>双向链表的操作其实都和单向链表相似，只是多了一个前驱指针，要多操作一个指针而已，对于这个删除特定位置元素的方法，我们需要知道最重要的一点就是<font color="#0097e6">将被删除的节点从链表中移出，再将链表连接完好</font>即可</p> <p>同样的我们需要分成3种情况</p> <p><font color="#e84118">第一种情况</font>：删除第一个节点</p> <p>用<code>current</code>变量保存链表中第一个节点的引用，也就是我们想要移除的第一个节点。首先要改变的是 <code>head</code> 的引用，将其从<code>current</code>改为<code>current.next</code>。但我们还需要更新<code>current.next</code>指向上一个元素的指针，因此需要判断链表的长度是否为1，如果为1说明删除第一个节点之后链表就为空了，这时候就需要将<code>tail</code>设为<code>null</code>，如果不为1，则把<code>head.prev</code>的引用改为<code>null</code>即可。演示图如下：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A85.png" alt="双向链表5"></p> <p><font color="#e84118">第二种情况</font>：删除最后一个节点</p> <p>因为有了最后一个节点的引用<code>tail</code>，我们不需要通过<code>getNode</code>来获取最后一个节点，这样我们也就可以把<code>tail</code>的引用赋给<code>current</code>变量。接下来，需要把<code>tail</code>的引用更新为列表中<strong>倒数第二个元素</strong>，同时将<code>next</code>指针指向<code>null</code>，这个过程可以展示为下图：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A86.png" alt="双向链表6"></p> <p><font color="#e84118">第三种情况</font>：删除中间的节点</p> <p>首先我们需要通过<code>getNode</code>方法找到要删除的节点，用<code>current</code>变量保存，再用<code>preNode</code>表示要删除节点的前一个节点，。那么要移除它，我们可以通过更新<code>prev.next</code>和<code>current.next.prev</code>的引用，在链表中跳过它，因此，将<code>prev</code>的<code>next</code>指针指向<code>current.next</code>，而<code>current.next</code>的<code>prev</code>指针指向<code>prev</code>，如下图演示：</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A87.png" alt="双向链表7"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断，输入的position需要在范围之内</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token comment">// 如果删除的是第一个节点</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 让head指向下一位</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        <span class="token comment">// 如果链表的长度为1，删除后末尾应当为null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 不为1 删除节点后第一个节点（current.next)指向null</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 删除最后一个节点</span>
        <span class="token comment">// 先让current保存我们要删除的节点</span>
        current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>tail
        <span class="token comment">// 让tail移向删除节点的前一位</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail <span class="token operator">=</span> current<span class="token punctuation">.</span>prev
        <span class="token comment">// 再让tail的next指针指向null，这样最后一个节点就被丢弃了</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tail<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 被删除的节点</span>
        <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position<span class="token punctuation">)</span>
        <span class="token comment">// 删除节点的前一个节点</span>
        <span class="token keyword">let</span> preNode <span class="token operator">=</span> current<span class="token punctuation">.</span>prev
        <span class="token comment">// 删除节点的前一个节点next指向它的后一个节点</span>
        preNode<span class="token punctuation">.</span>next <span class="token operator">=</span> current<span class="token punctuation">.</span>next
        <span class="token comment">// 后一个节点的prev指向preNode</span>
        current<span class="token punctuation">.</span>next<span class="token punctuation">.</span>prev <span class="token operator">=</span> preNode
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h4 id="_2-2-6-查找元素在链表中的位置"><a href="#_2-2-6-查找元素在链表中的位置" class="header-anchor">#</a> 2.2.6 查找元素在链表中的位置</h4> <p>和单向链表的处理方式相同，没有做什么改动🍔</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前链表头节点</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span> 
    <span class="token comment">// 遍历整个链表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>current<span class="token punctuation">.</span>element <span class="token operator">===</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> i
        <span class="token punctuation">}</span>
        <span class="token comment">// 依次向下移动</span>
        current <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_2-2-7-根据元素值移除节点"><a href="#_2-2-7-根据元素值移除节点" class="header-anchor">#</a> 2.2.7 根据元素值移除节点</h4> <p>在前面根据位置删除链表节点的基础上，这部分的代码和单向链表相同，但也不完全相同噢，毕竟<code>removeAt</code>方法是一个新的方法噢！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 根据元素值删除元素</span>
<span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过下面的removeAt方法删除指定位置节点</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 删除不存在的元素，抛出错误</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'element no found'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_2-2-8-打印双向链表"><a href="#_2-2-8-打印双向链表" class="header-anchor">#</a> 2.2.8 打印双向链表</h4> <p>通过遍历整个链表，将每个节点的值拼接起来，这样看起来会清晰很多</p> <p>输出示例：<code>NULL&lt;-&gt;1&lt;-&gt;2&lt;-&gt;3&lt;-&gt;NULL</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'NULL&lt;-&gt;'</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        str <span class="token operator">+=</span> current<span class="token punctuation">.</span>element <span class="token operator">+</span> <span class="token string">'&lt;-&gt;'</span><span class="token punctuation">;</span>
        current <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> str <span class="token operator">+=</span> <span class="token string">'NULL'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_2-3-单向循环链表"><a href="#_2-3-单向循环链表" class="header-anchor">#</a> 2.3 单向循环链表</h3> <p>循环链表和单向链表相似，节点类型都是一样，唯一的区别是，在创建循环链表的时候，需要让其最后一个节点的 <code>next</code> 指针<strong>指向第一个节点</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 假定lastItem为最后一个节点</span>
lastItem<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E5%8D%95%E5%90%91.png" alt="循环链表单向"></p> <h4 id="_2-3-1-创建一个单向循环链表"><a href="#_2-3-1-创建一个单向循环链表" class="header-anchor">#</a> 2.3.1 创建一个单向循环链表</h4> <p>大体的结构和单向链表一致</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>element <span class="token operator">=</span> element
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">CircleLinkedList</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 在末尾添加节点</span>
    <span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 在任意位置插入节点</span>
    <span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">position<span class="token punctuation">,</span>element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 根据位置删除节点</span>
    <span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 查找元素对应索引，与单向链表相同</span>
    <span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 根据元素值删除节点，与单向链表相同</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">// 获取节点，与单向链表相同</span>
    <span class="token function">getNode</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_2-3-2-在链表尾部追加节点"><a href="#_2-3-2-在链表尾部追加节点" class="header-anchor">#</a> 2.3.2 在链表尾部追加节点</h4> <p><font color="#00a8ff">第一种情况</font>：链表为空，直接让<code>head</code>指向新节点<code>node</code>即可</p> <p><font color="#00a8ff">第二种情况</font>：链表不为空，通过<code>getNode</code>方法获取到链表的最后一个节点，让该节点的<code>next</code>指针指向新节点<code>node</code></p> <p><font color="#c23616">注意</font>：在执行完<code>if</code>判断后都需要将最后一个节点的<code>next</code>指针指向第一个节点<code>head</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建节点</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span>
    <span class="token comment">// 链表为空情况</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取最后一个节点</span>
        <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> node
    <span class="token punctuation">}</span>
    <span class="token comment">// 不管哪种情况，都要保持首尾相连</span>
    node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_2-3-3-在链表中插入节点"><a href="#_2-3-3-在链表中插入节点" class="header-anchor">#</a> 2.3.3 在链表中插入节点</h4> <p>同样的有==两种场景==</p> <ul><li>当插入的位置是第一个时，不同于单向链表的操作是，需要额外的将链表的最后一个节点的<code>next</code>指针指向新节点<code>node</code></li> <li>在其他地方插入时，可以通过三元运算符来判断，新节点的<code>next</code>指向是不是<code>null</code>如果是<code>null</code>说明新节点<strong>插在最后一个节点</strong>，需要将该节点的<code>next</code>指针指向第一个节点，否则就正常插入即可</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">insert</span><span class="token punctuation">(</span><span class="token parameter">position<span class="token punctuation">,</span> element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 实例化创建节点</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// node指向先前的第一个节点</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">;</span>
        <span class="token comment">// 头节点改变为新节点node</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 找到需要插入位置的前一个节点</span>
        <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果prev.next 为null就指向head否则就指向下一个</span>
        node<span class="token punctuation">.</span>next <span class="token operator">=</span> prev<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">:</span> prev<span class="token punctuation">.</span>next
        <span class="token comment">// 让前一个节点指向新创建的节点</span>
        prev<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_2-3-4-在链表中删除特定位置的节点"><a href="#_2-3-4-在链表中删除特定位置的节点" class="header-anchor">#</a> 2.3.4 在链表中删除特定位置的节点</h4> <p>区别于单向链表，==删除第一个节点时==，需要改变最后一个节点的<code>next</code>指向，指向新的第一个节点，删除其他节点时，需要判断以下被删除节点的前一个节点的<code>next</code>指向是否为<code>null</code>从而进行下一步的操作</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 根据位置删除节点</span>
<span class="token function">removeAt</span><span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 边界判断，超出链表长度，抛出错误</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> position <span class="token operator">&gt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'position out range'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token keyword">if</span> <span class="token punctuation">(</span>position <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果删除的是第一个节点，则让head指向下一位即可</span>
        <span class="token keyword">let</span> last <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        last<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 获取删除位置的前一个节点</span>
        <span class="token keyword">let</span> pre <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getNode</span><span class="token punctuation">(</span>position <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// current为被删除节点</span>
        current <span class="token operator">=</span> pre<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token comment">// 让前一个节点指向删除节点的下一个节点</span>
        pre<span class="token punctuation">.</span>next <span class="token operator">=</span> current<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">:</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 长度自减</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token operator">--</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="_2-4-双向循环链表"><a href="#_2-4-双向循环链表" class="header-anchor">#</a> 2.4 双向循环链表</h3> <p>双向循环链表区别于单向循环链表，双向链表有多一个从第一个节点指向最后一个节点的<code>prev</code>指针</p> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E5%8F%8C%E5%90%91%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8.png" alt="双向循环链表"></p> <blockquote><p>双向循环链表与前面的差别都不是很大，本文就不展开写了，相信看了前面的详解，一定能够自己完成的</p></blockquote> <h2 id="_3-相关题目"><a href="#_3-相关题目" class="header-anchor">#</a> 3. 相关题目</h2> <blockquote><p><code>leetcode</code>上关于链表的几道题目，附上ac代码</p></blockquote> <h3 id="_3-1-反转链表-链接直达噢"><a href="#_3-1-反转链表-链接直达噢" class="header-anchor">#</a> 3.1 <a href="https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/" target="_blank" rel="noopener noreferrer">反转链表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>（链接直达噢！）</h3> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/111.png" alt="111"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">reverseList</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">head</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> current <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>current<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> next <span class="token operator">=</span> current<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        current<span class="token punctuation">.</span>next <span class="token operator">=</span> prev<span class="token punctuation">;</span>
        prev <span class="token operator">=</span> current<span class="token punctuation">;</span>
        current <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> prev
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_3-2-合并k个升序链表"><a href="#_3-2-合并k个升序链表" class="header-anchor">#</a> 3.2 <a href="https://leetcode-cn.com/problems/merge-k-sorted-lists/" target="_blank" rel="noopener noreferrer">合并K个升序链表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/222.png" alt="222"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">mergeKLists</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">lists</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>lists <span class="token operator">||</span> <span class="token operator">!</span>lists<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> end <span class="token operator">=</span> lists<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> lists<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        end <span class="token operator">=</span> <span class="token function">mergeTwoLists</span><span class="token punctuation">(</span>lists<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> end
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">mergeTwoLists</span><span class="token punctuation">(</span><span class="token parameter">l1<span class="token punctuation">,</span> l2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 如果其中一个为空，直接返回另一个链表</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>l1<span class="token punctuation">)</span> <span class="token keyword">return</span> l2
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>l2<span class="token punctuation">)</span> <span class="token keyword">return</span> l1
    <span class="token comment">// 依次比较链表的值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l1<span class="token punctuation">.</span>val <span class="token operator">&gt;</span> l2<span class="token punctuation">.</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果l2的值大，则从l2开始，l2的next通过递归再次判断是谁 </span>
        l2<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token function">mergeTwoLists</span><span class="token punctuation">(</span>l1<span class="token punctuation">,</span> l2<span class="token punctuation">.</span>next<span class="token punctuation">)</span>
        <span class="token keyword">return</span> l2
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        l1<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token function">mergeTwoLists</span><span class="token punctuation">(</span>l1<span class="token punctuation">.</span>next<span class="token punctuation">,</span> l2<span class="token punctuation">)</span>
        <span class="token keyword">return</span> l1
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="_3-3-删除链表的倒数第-n-个结点"><a href="#_3-3-删除链表的倒数第-n-个结点" class="header-anchor">#</a> 3.3 <a href="https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/" target="_blank" rel="noopener noreferrer">删除链表的倒数第 N 个结点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h3> <p><img src="https://ljcimg.oss-cn-beijing.aliyuncs.com/img/333.png" alt="333"></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">removeNthFromEnd</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">head<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> node <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span>
    <span class="token comment">//计算链表长度</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    count <span class="token operator">=</span> count <span class="token operator">-</span> n <span class="token operator">-</span> <span class="token number">1</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> head<span class="token punctuation">.</span>next
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> head<span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>count <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        node <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        count<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    node<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next
    <span class="token keyword">return</span> head
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="_4-小结"><a href="#_4-小结" class="header-anchor">#</a> 4. 小结</h2> <p>以上就是本文JavaScript实现链表的全部内容了，希望你能从中学到好多好多东西噢~❤️</p> <p>今天的分享就到这里结束啦！</p> <blockquote><p>参考文献：javascript数据结构与算法</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">5/2/2022, 1:28:46 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/structure/queue.html" class="prev">
        详解队列结构，并实现一个队列结构
      </a></span> <span class="next"><a href="/pages/structure/set.html">
        详解集合结构，并实现一个集合
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.84aca76e.js" defer></script><script src="/assets/js/2.195f2158.js" defer></script><script src="/assets/js/41.0465ba85.js" defer></script>
  </body>
</html>

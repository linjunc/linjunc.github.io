(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{443:function(t,s,a){"use strict";a.r(s);var e=a(62),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/diffing.png",alt:"diffing"}})]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°ä¸åŒå­¦ï¼Œä¸€å"),a("font",{attrs:{color:"#2e86de"}},[t._v("å‡†å¤§äºŒçš„å‰ç«¯çˆ±å¥½è€…")])],1),t._v(" "),a("p",[t._v("ğŸ“¢ è¿™ç¯‡æ–‡ç« å°†"),a("strong",[t._v("å°½åŠ›")]),t._v("è¯´æ˜ç™½ "),a("strong",[t._v("diff ç®—æ³•")])]),t._v(" "),a("p",[t._v("ğŸ“¢ "),a("font",{attrs:{color:"#f368e0"}},[a("strong",[t._v("æ„¿ä½ å¿ äºè‡ªå·±ï¼Œçƒ­çˆ±ç”Ÿæ´»")])])],1)]),t._v(" "),a("h2",{attrs:{id:"å‰è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),a("p",[t._v("diff ç®—æ³•æ˜¯ React æå‡æ¸²æŸ“æ€§èƒ½çš„ä¸€ç§ä¼˜åŒ–ç®—æ³•ï¼Œåœ¨ React ä¸­æœ‰ç€å¾ˆé‡è¦çš„åœ°ä½ï¼Œä¹Ÿä¸æ­¢äº React ï¼Œåœ¨ Vue ä¸­ä¹Ÿæœ‰ diff ç®—æ³•ï¼Œä¼¼ä¹æ²¡æœ‰å·®åˆ«ã€‚åœ¨æœ€è¿‘çš„ React å­¦ä¹ ä¸­ï¼Œå­¦åˆ°äº† diff ç®—æ³•ï¼Œæ„Ÿè§‰è§†é¢‘ä¸­çš„å†…å®¹æœ‰ç‚¹æµ…ï¼Œå¯¹ diff ç®—æ³•ä¸å¤Ÿæ·±å…¥ï¼Œå› æ­¤æƒ³è¦æ·±å…¥çš„äº†è§£ä»¥ä¸‹ diff ç®—æ³•ã€‚äºæ˜¯åœ¨æ˜é‡‘ï¼ŒçŸ¥ä¹ï¼ŒCSDN ç­‰å¹³å°ä¸Šï¼Œçœ‹äº†å¤§é‡çš„åšå®¢ï¼Œéƒ½éå¸¸åœ°ä¸é”™ï¼Œå¯æƒœçœ‹ä¸æ˜ç™½ï¼Œwwwwã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« åªæ˜¯è‡ªå·±å¯¹äº diff ç®—æ³•çš„ä¸€ç‚¹ç†è§£ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜æˆ–è€…é”™è¯¯çš„åœ°æ–¹ï¼Œå¤§å®¶"),a("strong",[t._v("ä¸€å®šè¦æŒ‡å‡º")]),t._v("ï¼")]),t._v(" "),a("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯è™šæ‹Ÿ-dom"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯è™šæ‹Ÿ DOM ï¼Ÿ")]),t._v(" "),a("p",[t._v("åœ¨è°ˆ diff ç®—æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£è™šæ‹Ÿ DOM ã€‚å®ƒæ˜¯ä¸€ç§ç¼–ç¨‹æ¦‚å¿µï¼Œåœ¨è¿™ä¸ªæ¦‚å¿µé‡Œï¼Œä»¥ä¸€ç§è™šæ‹Ÿçš„è¡¨ç°å½¢å¼è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚åœ¨ React ä¸­ï¼Œrender æ‰§è¡Œçš„ç»“æœå¾—åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„ DOM èŠ‚ç‚¹ï¼Œè€Œæ˜¯ JavaScript å¯¹è±¡")]),t._v(" "),a("blockquote",[a("p",[t._v("è™šæ‹Ÿ DOM åªä¿ç•™äº†çœŸå® DOM èŠ‚ç‚¹çš„ä¸€äº›"),a("strong",[t._v("åŸºæœ¬å±æ€§ï¼Œå’ŒèŠ‚ç‚¹ä¹‹é—´çš„å±‚æ¬¡å…³ç³»")]),t._v("ï¼Œå®ƒç›¸å½“äºå»ºç«‹åœ¨ JavaScript å’Œ DOM ä¹‹é—´çš„ä¸€å±‚â€œç¼“å­˜â€")])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hello world!"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("span")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ä¸Šé¢çš„è¿™æ®µä»£ç ä¼šè½¬åŒ–å¯ä»¥è½¬åŒ–ä¸ºè™šæ‹Ÿ DOM ç»“æ„")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        class"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    children"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        props"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        children"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello world!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("å…¶ä¸­å¯¹äºä¸€ä¸ªèŠ‚ç‚¹å¿…å¤‡çš„ä¸‰ä¸ªå±æ€§ "),a("code",[t._v("tagï¼Œpropsï¼Œchildren")])]),t._v(" "),a("ul",[a("li",[t._v("tag æŒ‡å®šå…ƒç´ çš„"),a("strong",[t._v("æ ‡ç­¾")]),t._v("ç±»å‹ï¼Œå¦‚â€œ"),a("code",[t._v("li")]),t._v("ï¼Œ"),a("code",[t._v("div")]),t._v("â€")]),t._v(" "),a("li",[t._v("props æŒ‡å®šå…ƒç´ èº«ä¸Šçš„å±æ€§ï¼Œå¦‚ "),a("code",[t._v("class")]),t._v(" ï¼Œ"),a("code",[t._v("style")]),t._v("ï¼Œè‡ªå®šä¹‰å±æ€§")]),t._v(" "),a("li",[t._v("children æŒ‡å®šå…ƒç´ æ˜¯å¦æœ‰"),a("strong",[t._v("å­èŠ‚ç‚¹")]),t._v("ï¼Œå‚æ•°ä»¥"),a("strong",[t._v("æ•°ç»„")]),t._v("å½¢å¼ä¼ å…¥")])]),t._v(" "),a("p",[t._v("è€Œæˆ‘ä»¬åœ¨ render ä¸­ç¼–å†™çš„ JSX ä»£ç å°±æ˜¯ä¸€ç§è™šæ‹Ÿ DOM ç»“æ„ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯-diff-ç®—æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯-diff-ç®—æ³•"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯ diff ç®—æ³•ï¼Ÿ")]),t._v(" "),a("p",[t._v("å…¶å®åˆšå¼€å§‹å­¦ä¹  React çš„æ—¶å€™ï¼Œå¾ˆå¤šäººå¯èƒ½éƒ½å¬è¯´è¿‡ React å¾ˆé«˜æ•ˆï¼Œæ€§èƒ½å¾ˆå¥½è¿™ç±»çš„è¯è¯­ï¼Œè¿™å…¶å®å°±æ˜¯å¾—ç›Šäº diff ç®—æ³•å’Œ Virturl DOM çš„å®Œç¾ç»“åˆã€‚")]),t._v(" "),a("p",[t._v("å•çº¯çš„æˆ‘åˆšå¼€å§‹ä¼šè®¤ä¸º")]),t._v(" "),a("blockquote",[a("p",[t._v("React ä¹Ÿåªä¸è¿‡æ˜¯å¼•å…¥äº†åˆ«äººçš„ diff ç®—æ³•è€Œå·²ï¼Œèƒ½æœ‰å¤šå‰å®³ï¼Œåˆä¸æ˜¯åŸåˆ› ï¼Ÿ")])]),t._v(" "),a("p",[t._v("ä½†å½“æˆ‘æŸ¥é˜…äº†ä¼—å¤šèµ„æ–™åï¼Œå‘ç°è¢«æåŠæœ€å¤šçš„æ˜¯ä¸€ä¸ª â€œä¼ ç»Ÿ diff ç®—æ³•â€")]),t._v(" "),a("p",[t._v("å…¶å® React é’ˆå¯¹ diff  ç®—æ³•åšå‡ºçš„ä¼˜åŒ–ï¼Œæ‰æ˜¯æˆ‘ä»¬åº”å½“å­¦ä¹ çš„")]),t._v(" "),a("p",[t._v("React å°†åŸå…ˆæ—¶é—´å¤æ‚åº¦ä¸º O($n^3$) çš„ä¼ ç»Ÿç®—æ³•ï¼Œä¼˜åŒ–åˆ°äº† O(n)")]),t._v(" "),a("p",[a("strong",[t._v("å¤§è‡´æ‰§è¡Œè¿‡ç¨‹å›¾")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824173128172.png",alt:"image-20210824173128172"}})]),t._v(" "),a("p",[t._v("é‚£ React æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ")]),t._v(" "),a("h2",{attrs:{id:"ä¸‰ä¸ªç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ä¸ªç­–ç•¥"}},[t._v("#")]),t._v(" ä¸‰ä¸ªç­–ç•¥")]),t._v(" "),a("p",[t._v("ä¸ºäº†å°†å¤æ‚åº¦é™åˆ° O(n)ï¼ŒReact åŸºäºè¿™ä¸‰ä¸ªç­–ç•¥è¿›è¡Œäº†ç®—æ³•ä¼˜åŒ–")]),t._v(" "),a("ol",[a("li",[t._v("Web UI ä¸­ DOM èŠ‚ç‚¹è·¨å±‚çº§çš„"),a("strong",[t._v("ç§»åŠ¨æ“ä½œç‰¹åˆ«å°‘")]),t._v("ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ã€‚")]),t._v(" "),a("li",[t._v("æ‹¥æœ‰ç›¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆ"),a("strong",[t._v("ç›¸ä¼¼")]),t._v("çš„æ ‘å½¢ç»“æ„ï¼Œæ‹¥æœ‰ä¸åŒç±»çš„ä¸¤ä¸ªç»„ä»¶å°†ä¼šç”Ÿæˆ"),a("strong",[t._v("ä¸åŒ")]),t._v("çš„æ ‘å½¢ç»“æ„ã€‚")]),t._v(" "),a("li",[t._v("å¯¹äºåŒä¸€å±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡å”¯ä¸€ id è¿›è¡ŒåŒºåˆ†ã€‚")])]),t._v(" "),a("p",[t._v("é’ˆå¯¹è¿™ä¸‰ä¸ªç­–ç•¥ï¼ŒReact åˆ†åˆ«å¯¹ "),a("code",[t._v("tree diff")]),t._v("ã€"),a("code",[t._v("component diff")]),t._v(" ä»¥åŠ "),a("code",[t._v("element diff")]),t._v(" è¿›è¡Œç®—æ³•ä¼˜åŒ–")]),t._v(" "),a("h3",{attrs:{id:"tree-diff-åˆ†å±‚æ±‚å¼‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tree-diff-åˆ†å±‚æ±‚å¼‚"}},[t._v("#")]),t._v(" tree diff åˆ†å±‚æ±‚å¼‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆä¼šå°†æ–°æ—§ä¸¤ä¸ª DOM æ ‘ï¼Œè¿›è¡Œæ¯”è¾ƒï¼Œè¿™ä¸ªæ¯”è¾ƒæŒ‡çš„æ˜¯åˆ†å±‚æ¯”è¾ƒã€‚åˆç”±äº DOM èŠ‚ç‚¹è·¨å±‚çº§çš„ç§»åŠ¨æ“ä½œå¾ˆå°‘ï¼Œå¿½ç•¥ä¸è®¡ã€‚React é€šè¿‡ updataDepth å¯¹ è™šæ‹Ÿ DOM æ ‘è¿›è¡Œå±‚çº§æ§åˆ¶ï¼Œåªä¼šå¯¹åŒå±‚èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­åªä¼šå¯¹ç›¸åŒé¢œè‰²æ–¹æ¡†å†…çš„ DOM èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼š")]),t._v(" "),a("p",[t._v("å½“å¯¹æ¯”å‘ç°èŠ‚ç‚¹æ¶ˆå¤±æ—¶ï¼Œåˆ™è¯¥èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹éƒ½ä¼šè¢«å®Œå…¨åˆ é™¤ï¼Œä¸ä¼šè¿›è¡Œæ›´æ·±å±‚æ¬¡çš„æ¯”è¾ƒï¼Œè¿™æ ·åªéœ€è¦å¯¹æ ‘è¿›è¡Œä¸€æ¬¡éå†ï¼Œä¾¿èƒ½å®Œæˆæ•´é¢— DOM æ ‘çš„æ¯”è¾ƒ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824131810813.png",alt:"image-20210824131810813"}})]),t._v(" "),a("p",[t._v("è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå€¼å¾—å…³æ³¨çš„åœ°æ–¹ï¼š"),a("strong",[t._v("DOM èŠ‚ç‚¹è·¨å±‚çº§ç§»åŠ¨")])]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆä¼šæå‡ºè¿™æ ·çš„é—®é¢˜å‘¢ï¼Œåœ¨ä¸Šé¢çš„åˆ é™¤åŸåˆ™ä¸­ï¼Œæˆ‘ä»¬å‘ç°å½“èŠ‚ç‚¹ä¸å­˜åœ¨äº†å°±ä¼šåˆ é™¤ï¼Œé‚£æˆ‘åªæ˜¯ç»™å®ƒæ¢ä½äº†ï¼Œå®ƒä¹Ÿä¼šåˆ é™¤æ•´ä¸ªèŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹å—ï¼Ÿ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824155347956.png",alt:"image-20210824155347956"}})]),t._v(" "),a("p",[t._v("å¦‚å›¾ï¼Œæˆ‘ä»¬éœ€è¦å®ç°è¿™æ ·çš„ç§»åŠ¨ï¼Œä½ å¯èƒ½ä¼šä»¥ä¸ºå®ƒä¼šç›´æ¥è¿™æ ·ç§»åŠ¨")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/%E7%AD%96%E7%95%A51.gif",alt:"ç­–ç•¥1"}})]),t._v(" "),a("p",[t._v("ä½†æ˜¯å®é™…æƒ…å†µï¼Œå¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚ç”±äº React åªä¼šç®€å•çš„è¿›è¡ŒåŒå±‚çº§èŠ‚ç‚¹ä½ç½®å˜åŒ–ï¼Œå¯¹äºä¸åŒå±‚çº§çš„èŠ‚ç‚¹ï¼Œåªæœ‰åˆ›å»ºå’Œåˆ é™¤æ“ä½œï¼Œå½“å‘ç° B èŠ‚ç‚¹æ¶ˆå¤±æ—¶ï¼Œå°±ä¼šé”€æ¯ Bï¼Œå½“å‘ç° C èŠ‚ç‚¹ä¸Šå¤šäº† B èŠ‚ç‚¹ï¼Œå°±ä¼šåˆ›å»º B ä»¥åŠå®ƒçš„å­èŠ‚ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("å› æ­¤è¿™æ ·ä¼šéå¸¸çš„å¤æ‚ï¼Œæ‰€ä»¥ React å®˜æ–¹å¹¶ä¸å»ºè®®æˆ‘ä»¬è¿›è¡Œ DOM èŠ‚ç‚¹è·¨çº§æ“ä½œ")]),t._v(" "),a("h3",{attrs:{id:"component-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#component-diff"}},[t._v("#")]),t._v(" component diff")]),t._v(" "),a("p",[t._v("åœ¨ç»„ä»¶å±‚é¢ä¸Šï¼Œä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–")]),t._v(" "),a("ul",[a("li",[t._v("å¦‚æœæ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œåˆ™æŒ‰ç…§åŸç­–ç•¥ç»§ç»­æ¯”è¾ƒ è™šæ‹Ÿ DOM tree")]),t._v(" "),a("li",[t._v("å¦‚æœä¸æ˜¯ï¼Œåˆ™å°†è¿™ä¸ªç»„ä»¶è®°ä¸º "),a("code",[t._v("dirty component")]),t._v(" ï¼Œä»è€Œæ›¿æ¢æ•´ä¸ªç»„ä»¶ä¸‹çš„æ‰€æœ‰å­èŠ‚ç‚¹")])]),t._v(" "),a("p",[t._v("åŒæ—¶å¯¹äºåŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œæœ‰å¯èƒ½å…¶ "),a("code",[t._v("Virtual DOM")]),t._v(" æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œå¦‚æœèƒ½å¤Ÿç¡®åˆ‡çš„çŸ¥é“è¿™ç‚¹å°±å¯ä»¥èŠ‚çœå¤§é‡çš„ "),a("code",[t._v("diff")]),t._v(" è¿ç®—çš„æ—¶é—´ï¼Œå› æ­¤ "),a("code",[t._v("React")]),t._v(" å…è®¸ç”¨æˆ·é€šè¿‡ "),a("code",[t._v("shouldComponentUpdate()")]),t._v(" åˆ¤æ–­è¯¥ç»„ä»¶æ˜¯å¦éœ€è¦è¿›è¡Œ "),a("code",[t._v("diff")]),t._v(" ç®—æ³•åˆ†æ")]),t._v(" "),a("p",[t._v("æ€»çš„æ¥è¯´ï¼Œå¦‚æœä¸¤ä¸ªç»„ä»¶ç»“æ„ç›¸ä¼¼ï¼Œä½†è¢«è®¤å®šä¸ºäº†ä¸åŒç±»å‹çš„ç»„ä»¶ï¼Œåˆ™ä¸ä¼šæ¯”è¾ƒäºŒè€…çš„ç»“æ„ï¼Œè€Œæ˜¯ç›´æ¥åˆ é™¤")]),t._v(" "),a("h3",{attrs:{id:"element-diff"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#element-diff"}},[t._v("#")]),t._v(" element diff")]),t._v(" "),a("p",[t._v("element diff æ˜¯ä¸“é—¨é’ˆå¯¹åŒä¸€å±‚çº§çš„æ‰€æœ‰èŠ‚ç‚¹çš„ç­–ç•¥ã€‚å½“èŠ‚ç‚¹åœ¨åŒä¸€å±‚çº§æ—¶ï¼Œdiff æä¾›äº† 3ä¸ªèŠ‚ç‚¹æ“ä½œæ–¹æ³•ï¼šæ’å…¥ï¼Œç§»åŠ¨ï¼Œåˆ é™¤")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬è¦å®Œæˆå¦‚å›¾æ‰€ç¤ºæ“ä½œè½¬åŒ–æ—¶ï¼Œä¼šæœ‰å¾ˆå¤§çš„å›°éš¾ï¼Œå› ä¸ºåœ¨æ–°è€èŠ‚ç‚¹æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦"),a("strong",[t._v("åˆ é™¤å†é‡æ–°åˆ›å»º")]),t._v("ï¼Œä½†æ˜¯è¿™åªæ˜¯é‡æ–°æ’åºäº†è€Œå·²ï¼Œå¯¹æ€§èƒ½æå¤§çš„ä¸å‹å¥½ã€‚å› æ­¤ React ä¸­æå‡ºäº†ä¼˜åŒ–ç­–ç•¥ï¼š")]),t._v(" "),a("p",[t._v("å…è®¸æ·»åŠ "),a("strong",[t._v("å”¯ä¸€å€¼ key æ¥åŒºåˆ†èŠ‚ç‚¹")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210824163240354.png",alt:"image-20210824163240354"}})]),t._v(" "),a("p",[t._v("å¼•å…¥ key çš„ä¼˜åŒ–ç­–ç•¥ï¼Œè®©æ€§èƒ½ä¸Šæœ‰äº†ç¿»å¤©è¦†åœ°çš„å˜åŒ–")]),t._v(" "),a("p",[a("strong",[t._v("é‚£ key æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ")])]),t._v(" "),a("p",[t._v("å½“åŒä¸€å±‚çº§çš„èŠ‚ç‚¹æ·»åŠ äº† key å±æ€§åï¼Œå½“ä½ç½®å‘ç”Ÿå˜åŒ–æ—¶ã€‚react diff è¿›è¡Œæ–°æ—§èŠ‚ç‚¹æ¯”è¾ƒï¼Œå¦‚æœå‘ç°æœ‰ç›¸åŒçš„ key å°±ä¼šè¿›è¡Œç§»åŠ¨æ“ä½œï¼Œè€Œä¸ä¼šåˆ é™¤å†åˆ›å»º")]),t._v(" "),a("p",[a("strong",[t._v("é‚£ key å…·ä½“æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„å‘¢ï¼Ÿ")])]),t._v(" "),a("p",[t._v("é¦–å…ˆåœ¨ React ä¸­åªå…è®¸"),a("strong",[t._v("èŠ‚ç‚¹å³ç§»")])]),t._v(" "),a("p",[t._v("å› æ­¤å¯¹äºä¸Šå›¾ä¸­çš„è½¬åŒ–ï¼Œåªä¼šè¿›è¡Œ Aï¼ŒC çš„ç§»åŠ¨")]),t._v(" "),a("p",[t._v("åˆ™åªéœ€è¦å¯¹ç§»åŠ¨çš„èŠ‚ç‚¹è¿›è¡Œæ›´æ–°æ¸²æŸ“ï¼Œä¸ç§»åŠ¨çš„åˆ™ä¸éœ€è¦æ›´æ–°æ¸²æŸ“")]),t._v(" "),a("p",[a("strong",[t._v("ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ index ä½œä¸º key å€¼å‘¢ï¼Ÿ")])]),t._v(" "),a("p",[a("code",[t._v("index")]),t._v(" ä½œä¸º "),a("code",[t._v("key")]),t._v(" ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ•°ç»„çš„åä¸€é¡¹å¯èƒ½ä¼šå‰ç§»ï¼Œè¿™ä¸ªæ—¶å€™ç§»åŠ¨çš„èŠ‚ç‚¹å’Œåˆ é™¤çš„èŠ‚ç‚¹å°±æ˜¯ç›¸åŒçš„ "),a("code",[t._v("key")]),t._v("  ï¼Œåœ¨"),a("code",[t._v("react")]),t._v("ä¸­ï¼Œå¦‚æœ "),a("code",[t._v("key")]),t._v(" ç›¸åŒï¼Œå°±ä¼šè§†ä¸º"),a("strong",[t._v("ç›¸åŒçš„ç»„ä»¶")]),t._v("ï¼Œä½†è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯ä¸åŒçš„ï¼Œè¿™æ ·å°±ä¼šå‡ºç°å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œä¾‹å¦‚ï¼šåºå·å’Œæ–‡æœ¬ä¸å¯¹åº”ç­‰é—®é¢˜")]),t._v(" "),a("p",[t._v("æ‰€ä»¥ä¸€å®šè¦ä¿è¯ "),a("code",[t._v("key")]),t._v(" çš„å”¯ä¸€æ€§")]),t._v(" "),a("h2",{attrs:{id:"å»ºè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å»ºè®®"}},[t._v("#")]),t._v(" å»ºè®®")]),t._v(" "),a("p",[t._v("React å·²ç»å¸®æˆ‘ä»¬åšäº†å¾ˆå¤šäº†ï¼Œå‰©ä¸‹çš„éœ€è¦æˆ‘ä»¬å¤šåŠ æ³¨æ„ï¼Œæ‰èƒ½æœ‰æ›´å¥½çš„æ€§èƒ½")]),t._v(" "),a("p",[t._v("åŸºäºä¸‰ä¸ªç­–ç•¥æˆ‘ä»¬éœ€è¦æ³¨æ„")]),t._v(" "),a("p",[a("strong",[t._v("tree diff å»ºè®®")]),t._v("ï¼šå¼€å‘ç»„ä»¶æ—¶ï¼Œéœ€è¦æ³¨æ„ä¿æŒ DOM ç»“æ„ç¨³å®š")]),t._v(" "),a("p",[a("strong",[t._v("component diff å»ºè®®")]),t._v("ï¼šä½¿ç”¨ "),a("code",[t._v("shouldComponentUpdate()")]),t._v(" æ¥å‡å°‘ä¸è¦çš„æ›´æ–°")]),t._v(" "),a("p",[a("strong",[t._v("element diff å»ºè®®")]),t._v("ï¼šå‡å°‘æœ€åä¸€ä¸ªèŠ‚ç‚¹ç§»åŠ¨åˆ°å¤´éƒ¨çš„æ“ä½œï¼Œè¿™æ ·å‰é¢çš„èŠ‚ç‚¹éƒ½éœ€è¦ç§»åŠ¨")]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000016539430",target:"_blank",rel:"noopener noreferrer"}},[t._v("è°ˆè°ˆReactä¸­Diffç®—æ³•çš„ç­–ç•¥åŠå®ç°"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000011492275",target:"_blank",rel:"noopener noreferrer"}},[t._v("React diffç®—æ³•"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6967626390380216334#heading-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµ…è°ˆreact è™šæ‹Ÿdomï¼Œdiffç®—æ³•ä¸keyæœºåˆ¶"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("å…³äºæ‰‹å†™å®ç° diff ç®—æ³•ï¼Œè¿˜æœ‰ç‚¹éš¾åº¦ï¼Œè¿™äº‹ç­‰å­¦å®Œ React åå†è¯´å§")]),t._v(" "),a("blockquote",[a("p",[t._v("éå¸¸æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæ¬¢è¿æå‡ºä½ çš„æ„è§ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜æ¬¢è¿æŒ‡å‡ºï¼Œè°¢è°¢ï¼ğŸˆ")])])])}),[],!1,null,null,null);s.default=n.exports}}]);
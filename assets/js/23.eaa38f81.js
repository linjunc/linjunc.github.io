(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{444:function(t,s,a){"use strict";a.r(s);var n=a(62),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-study-%E9%9D%A2%E5%90%91%E7%BB%84%E4%BB%B6%E7%BC%96%E7%A8%8B.png",alt:"react-study-面向组件编程"}})]),t._v(" "),a("blockquote",[a("p",[t._v("📢 大家好😪 ，我是小丞同学，最近在学习 React、小程序、阅读 JS 高程，以及整理 Node 的笔记，这是关于 React 的"),a("strong",[t._v("第二篇")]),t._v("文章，也是我学习的第一个框架，内容如有错误，欢迎大家指正")]),t._v(" "),a("p",[t._v("📢 "),a("font",{attrs:{color:"#e84393"}},[t._v("愿你生活明朗，万物可爱")])],1)]),t._v(" "),a("h2",{attrs:{id:"一、组件的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、组件的使用"}},[t._v("#")]),t._v(" 一、组件的使用")]),t._v(" "),a("p",[t._v("当应用是以多组件的方式实现，这个应用就是一个组件化的应用")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("注意：")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("组件名必须是首字母大写")])]),t._v(" "),a("li",[a("p",[t._v("虚拟DOM元素只能有一个根元素")])]),t._v(" "),a("li",[a("p",[t._v("虚拟DOM元素必须有结束标签 "),a("code",[t._v("< />")])])])])]),t._v(" "),a("p",[a("strong",[t._v("渲染类组件标签的基本流程")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("React 内部会创建组件实例对象")])]),t._v(" "),a("li",[a("p",[t._v("调用"),a("code",[t._v("render()")]),t._v("得到虚拟 DOM ,并解析为真实 DOM")])]),t._v(" "),a("li",[a("p",[t._v("插入到指定的页面元素内部")])])]),t._v(" "),a("h3",{attrs:{id:"_1-函数式组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-函数式组件"}},[t._v("#")]),t._v(" 1. 函数式组件")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//1.先创建函数，函数可以有参数，也可以没有，但是必须要有返回值 返回一个虚拟DOM")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Welcome")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2.进行渲染")]),t._v("\nReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Welcom name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ljc"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"div"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("上面的代码经历了以下几步")]),t._v(" "),a("ol",[a("li",[t._v("我们调用 "),a("code",[t._v("ReactDOM.render()")]),t._v(" 函数，并传入 "),a("code",[t._v('<Welcome name="ljc" />')]),t._v(" 作为参数。")]),t._v(" "),a("li",[t._v("React 调用 "),a("code",[t._v("Welcome")]),t._v(" 组件，并将 "),a("code",[t._v("{name: 'ljc'}")]),t._v(" 作为 props 传入。")]),t._v(" "),a("li",[a("code",[t._v("Welcome")]),t._v(" 组件将 "),a("code",[t._v("Hello, ljc")]),t._v(" 元素作为返回值。")]),t._v(" "),a("li",[t._v("React DOM 将 DOM 高效地更新为 "),a("code",[t._v("Hello,ljc")]),t._v("。")])]),t._v(" "),a("h3",{attrs:{id:"_2-类式组件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-类式组件"}},[t._v("#")]),t._v(" 2. 类式组件")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/weather.gif",alt:"weather"}})]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MyComponent")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isHot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1 onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("changeWeather"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("今天天气很"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("isHot"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'炎热'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'凉爽'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("changeWeather")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" isHot "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isHot\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isHot")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isHot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("MyComponent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[t._v("这玩意底层不简单，"),a("code",[t._v("this")]),t._v("的指向真的需要好好学习")]),t._v(" "),a("p",[a("strong",[t._v("在优化过程中遇到的问题")])]),t._v(" "),a("ol",[a("li",[t._v("组件中的 render 方法中的 this 为组件实例对象")]),t._v(" "),a("li",[t._v("组件自定义方法中由于开启了严格模式，this 指向 "),a("code",[t._v("undefined")]),t._v(" 如何解决\n"),a("ol",[a("li",[t._v("通过 bind 改变 this 指向")]),t._v(" "),a("li",[t._v("推荐采用箭头函数，箭头函数的 "),a("code",[t._v("this")]),t._v(" 指向")])])]),t._v(" "),a("li",[t._v("state 数据不能直接修改或者更新")])]),t._v(" "),a("h3",{attrs:{id:"_3-其他知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-其他知识"}},[t._v("#")]),t._v(" 3. 其他知识")]),t._v(" "),a("p",[t._v("包含表单元素的组件分为非受控租价与受控组件")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("受控组件")]),t._v("：表单组件的输入组件随着输入并将内容存储到状态中（随时更新）")]),t._v(" "),a("li",[a("strong",[t._v("非受控组件")]),t._v("：表单组件的输入组件的内容在有需求的时候才存储到状态中（即用即取）")])]),t._v(" "),a("h2",{attrs:{id:"二、组件实例三大属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、组件实例三大属性"}},[t._v("#")]),t._v(" 二、组件实例三大属性")]),t._v(" "),a("h3",{attrs:{id:"_1-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-state"}},[t._v("#")]),t._v(" 1. state")]),t._v(" "),a("blockquote",[a("p",[t._v("React 把组件看成是一个状态机（State Machines）。通过与用户的交互，实现不同状态，然后渲染 UI，让用户界面和数据保持一致。")]),t._v(" "),a("p",[t._v("React 里，只需更新组件的 state，然后根据新的 state 重新渲染用户界面（不要操作 DOM）。")])]),t._v(" "),a("p",[t._v("简单的说就是组件的状态，也就是该组件所存储的数据")]),t._v(" "),a("p",[a("strong",[t._v("类式组件中的使用")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720203721926.png",alt:"image-20210720203721926"}})]),t._v(" "),a("p",[t._v("使用的时候通过"),a("code",[t._v("this.state")]),t._v("调用"),a("code",[t._v("state")]),t._v("里的值")]),t._v(" "),a("p",[t._v("在类式组件中定义"),a("code",[t._v("state")])]),t._v(" "),a("ul",[a("li",[t._v("在构造器中初始化"),a("code",[t._v("state")])]),t._v(" "),a("li",[t._v("在类中添加属性"),a("code",[t._v("state")]),t._v("来初始化")])]),t._v(" "),a("p",[a("strong",[t._v("修改 state")])]),t._v(" "),a("p",[t._v("在"),a("strong",[t._v("类式组件")]),t._v("的函数中，直接修改"),a("code",[t._v("state")]),t._v("值")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("weather "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'凉爽'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[t._v("页面的渲染靠的是"),a("code",[t._v("render")]),t._v("函数")])]),t._v(" "),a("p",[t._v("这时候会发现页面内容不会改变，原因是 React 中不建议 "),a("code",[t._v("state")]),t._v("不允许直接修改，而是通过类的原型对象上的方法 "),a("code",[t._v("setState()")])]),t._v(" "),a("p",[a("strong",[t._v("setState()")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("partialState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("callback"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[t._v("partialState")]),t._v(": 需要更新的状态的部分对象")]),t._v(" "),a("li",[a("code",[t._v("callback")]),t._v(": 更新完状态后的回调函数")])]),t._v(" "),a("p",[t._v("有两种写法：写法1")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("weather")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"凉爽"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("写法2：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 传入一个函数，返回x需要修改成的对象，参数为当前的 state")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("code",[t._v("setState")]),t._v("是一种合并操作，不是替换操作")]),t._v(" "),a("hr"),t._v(" "),a("ul",[a("li",[t._v("在执行 "),a("code",[t._v("setState")]),t._v("操作后，React 会自动调用一次 "),a("code",[t._v("render()")])]),t._v(" "),a("li",[a("code",[t._v("render()")]),t._v(" 的执行次数是 1+n (1 为初始化时的自动调用，n 为状态更新的次数)")])]),t._v(" "),a("h3",{attrs:{id:"_2-props"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-props"}},[t._v("#")]),t._v(" 2. props")]),t._v(" "),a("p",[t._v("与"),a("code",[t._v("state")]),t._v("不同，"),a("code",[t._v("state")]),t._v("是组件自身的状态，而"),a("code",[t._v("props")]),t._v("则是外部传入的数据")]),t._v(" "),a("p",[a("strong",[t._v("类式组件中使用")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720211554914.png",alt:"image-20210720211554914"}})]),t._v(" "),a("p",[t._v("在使用的时候可以通过 "),a("code",[t._v("this.props")]),t._v("来获取值 类式组件的 "),a("code",[t._v("props")]),t._v(":")]),t._v(" "),a("ol",[a("li",[t._v("通过在组件标签上传递值，在组件中就可以获取到所传递的值")]),t._v(" "),a("li",[t._v("在构造器里的"),a("code",[t._v("props")]),t._v("参数里可以获取到 "),a("code",[t._v("props")])]),t._v(" "),a("li",[t._v("可以分别设置 "),a("code",[t._v("propTypes")]),t._v(" 和 "),a("code",[t._v("defaultProps")]),t._v(" 两个属性来分别操作 "),a("code",[t._v("props")]),t._v("的规范和默认值，两者都是直接添加在类式组件的"),a("strong",[t._v("原型对象")]),t._v("上的（所以需要添加 "),a("code",[t._v("static")]),t._v("）")]),t._v(" "),a("li",[t._v("同时可以通过"),a("code",[t._v("...")]),t._v("运算符来简化")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720212505232.png",alt:"image-20210720212505232"}})]),t._v(" "),a("p",[a("strong",[t._v("函数式组件中的使用")])]),t._v(" "),a("blockquote",[a("p",[t._v("函数在使用props的时候，是作为参数进行使用的(props)")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720213304037.png",alt:"image-20210720213304037"}})]),t._v(" "),a("p",[t._v("函数组件的 "),a("code",[t._v("props")]),t._v("定义:")]),t._v(" "),a("ol",[a("li",[t._v("在组件标签中传递 "),a("code",[t._v("props")]),t._v("的值")]),t._v(" "),a("li",[t._v("组件函数的参数为 "),a("code",[t._v("props")])]),t._v(" "),a("li",[t._v("对 "),a("code",[t._v("props")]),t._v("的限制和默认值同样设置在原型对象上")])]),t._v(" "),a("h3",{attrs:{id:"_3-refs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-refs"}},[t._v("#")]),t._v(" 3. refs")]),t._v(" "),a("p",[t._v("Refs 提供了一种方式，允许我们访问 DOM 节点或在 "),a("code",[t._v("render")]),t._v(" 方法中创建的 React 元素。")]),t._v(" "),a("blockquote",[a("p",[t._v("在我们正常的操作节点时，需要采用DOM API 来查找元素，但是这样违背了 React 的理念，因此有了"),a("code",[t._v("refs")])])]),t._v(" "),a("p",[t._v("有三种操作"),a("code",[t._v("refs")]),t._v("的方法，分别为：")]),t._v(" "),a("ul",[a("li",[t._v("字符串形式")]),t._v(" "),a("li",[t._v("回调形式")]),t._v(" "),a("li",[a("code",[t._v("createRef")]),t._v("形式")])]),t._v(" "),a("p",[a("strong",[t._v("字符串形式")]),a("code",[t._v("refs")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720215332387.png",alt:"image-20210720215332387"}})]),t._v(" "),a("p",[t._v("虽然这个方法废弃了，但是还能用，还很好用hhh~")]),t._v(" "),a("p",[a("strong",[t._v("回调形式的")]),a("code",[t._v("refs")])]),t._v(" "),a("p",[t._v("组件实例的"),a("code",[t._v("ref")]),t._v("属性传递一个回调函数"),a("code",[t._v("c => this.input1 = c")]),t._v("（箭头函数简写），这样会在实例的属性中存储对DOM节点的引用，使用时可通过"),a("code",[t._v("this.input1")]),t._v("来使用")]),t._v(" "),a("p",[a("strong",[t._v("使用方法")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("input1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" placeholder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"点击按钮提示数据"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("strong",[t._v("我的理解")])]),t._v(" "),a("p",[a("code",[t._v("c")]),t._v("会接收到当前节点作为参数，"),a("code",[t._v("ref")]),t._v("的值为函数的返回值，也就是"),a("code",[t._v("this.input1 = c")]),t._v("，因此是给实例下的"),a("code",[t._v("input1")]),t._v("赋值")]),t._v(" "),a("p",[a("strong",[t._v("createRef 形式")]),t._v("（推荐写法）")]),t._v(" "),a("p",[t._v("React 给我们提供了一个相应的API，它会自动的将该 DOM 元素放入实例对象中")]),t._v(" "),a("p",[t._v("我们先给DOM元素添加ref属性")]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("{this.MyRef}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("点击弹出"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),t._v("{this.MyRef1}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("点击弹出"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("通过API，创建React的容器，会将DOM元素赋值给实例对象的名称为容器的属性的"),a("code",[t._v("current")]),t._v("，好烦..")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("MyRef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nMyRef1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRef")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("注意：专人专用，好烦，一个节点创建一个容器")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//调用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("btnOnClick")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//创建之后，将自身节点，传入current中")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MyRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("注意：我们不要过度的使用 ref，如果发生时间的元素刚好是需要操作的元素，就可以使用事件对象去替代。过度使用有什么问题我也不清楚，可能有 bug 吧")]),t._v(" "),a("h3",{attrs:{id:"_4-事件处理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-事件处理"}},[t._v("#")]),t._v(" 4. 事件处理")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("React 使用的是自定义事件，而不是原生的 DOM 事件")])]),t._v(" "),a("li",[a("p",[t._v("React 的事件是通过事件委托方式处理的（为了更加的高效）")])]),t._v(" "),a("li",[a("p",[t._v("可以通过事件的 "),a("code",[t._v("event.target")]),t._v("获取发生的 DOM 元素对象，可以尽量减少 "),a("code",[t._v("refs")]),t._v("的使用")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210720222147149.png",alt:"image-20210720222147149"}})]),t._v(" "),a("h2",{attrs:{id:"三、高阶函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、高阶函数"}},[t._v("#")]),t._v(" 三、高阶函数")]),t._v(" "),a("p",[t._v("关于这部分的知识，之前的笔记有记过了，我真是太棒了")]),t._v(" "),a("p",[t._v("链接"),a("a",{attrs:{href:"https://linjc.blog.csdn.net/article/details/116765732",target:"_blank",rel:"noopener noreferrer"}},[t._v("高阶函数"),a("OutboundLink")],1),t._v("，关于AOP，偏函数，柯里化都有不错的记录，感觉还是不错的")])])}),[],!1,null,null,null);s.default=e.exports}}]);
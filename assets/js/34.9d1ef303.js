(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{455:function(t,s,a){"use strict";a.r(s);var e=a(62),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-%E8%B7%AF%E7%94%B1.gif",alt:"Reactè·¯ç”±"}})]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°ä¸åŒå­¦ï¼Œä¸€å"),a("font",{attrs:{color:"#2e86de"}},[a("strong",[t._v("å¤§äºŒçš„å‰ç«¯çˆ±å¥½è€…")])])],1),t._v(" "),a("p",[t._v("ğŸ“¢ è¿™ç¯‡æ–‡ç« æ˜¯å­¦ä¹  React ä¸­ React è·¯ç”±è·³è½¬çš„å­¦ä¹ ç¬”è®°")]),t._v(" "),a("p",[t._v("ğŸ“¢ éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ ğŸ™")]),t._v(" "),a("p",[t._v("ğŸ“¢ "),a("font",{attrs:{color:"#f368e0"}},[a("strong",[t._v("æ„¿ä½ å¿ äºè‡ªå·±ï¼Œçƒ­çˆ±ç”Ÿæ´»")])])],1)]),t._v(" "),a("h2",{attrs:{id:"_1-push-ä¸-replace-æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-push-ä¸-replace-æ¨¡å¼"}},[t._v("#")]),t._v(" 1. push ä¸ replace æ¨¡å¼")]),t._v(" "),a("p",[t._v("é»˜è®¤æƒ…å†µä¸‹ï¼Œå¼€å¯çš„æ˜¯ push æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡ç‚¹å‡»è·³è½¬ï¼Œéƒ½ä¼šå‘æ ˆä¸­å‹å…¥ä¸€ä¸ªæ–°çš„åœ°å€ï¼Œåœ¨ç‚¹å‡»è¿”å›æ—¶ï¼Œå¯ä»¥è¿”å›åˆ°ä¸Šä¸€ä¸ªæ‰“å¼€çš„åœ°å€ï¼Œ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-push.gif",alt:"react-router-push"}})]),t._v(" "),a("p",[t._v("å°±åƒä¸Šå›¾ä¸€æ ·ï¼Œæˆ‘ä»¬æ¯æ¬¡è¿”å›éƒ½ä¼šè¿”å›åˆ°ä¸Šä¸€æ¬¡ç‚¹å‡»çš„åœ°å€ä¸­")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬åœ¨è¯»æ¶ˆæ¯çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šä¸å–œæ¬¢è¿™ç§ç¹ççš„è·³è½¬ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å¯ replace æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼ä¸ push æ¨¡å¼ä¸åŒï¼Œå®ƒä¼šå°†å½“å‰åœ°å€"),a("strong",[t._v("æ›¿æ¢")]),t._v("æˆç‚¹å‡»çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯æ›¿æ¢äº†æ–°çš„æ ˆé¡¶")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åªéœ€è¦åœ¨éœ€è¦å¼€å¯çš„é“¾æ¥ä¸ŠåŠ ä¸Š "),a("code",[t._v("replace")]),t._v(" å³å¯")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Link replace to"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pathname")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/message/detail'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" msgObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" msgObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("msgObj"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Link"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-router-replace.gif",alt:"react-router-replace"}})]),t._v(" "),a("h2",{attrs:{id:"_2-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª"}},[t._v("#")]),t._v(" 2. ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç»‘å®šäº‹ä»¶çš„æ–¹å¼å®ç°è·¯ç”±çš„è·³è½¬ï¼Œæˆ‘ä»¬åœ¨æŒ‰é’®ä¸Šç»‘å®šä¸€ä¸ª "),a("code",[t._v("onClick")]),t._v(" äº‹ä»¶ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå›è°ƒ "),a("code",[t._v("replaceShow")])]),t._v(" "),a("p",[t._v("è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç”¨æ¥ä»¿åˆ¶é»˜è®¤çš„è·³è½¬æ–¹å¼ï¼Œç¬¬ä¸€ä¸ªæ˜¯ç‚¹å‡»çš„ id ç¬¬äºŒä¸ªæ˜¯æ ‡é¢˜")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨å›è°ƒä¸­ï¼Œè°ƒç”¨ "),a("code",[t._v("this.props.location")]),t._v(" å¯¹è±¡ä¸‹çš„ replace æ–¹æ³•")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("replaceShow")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/home/message/detail/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("id"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("åŒæ—¶æˆ‘ä»¬å¯ä»¥å€ŸåŠ© "),a("code",[t._v("this.props.history")]),t._v(" èº«ä¸Šçš„ API å®ç°è·¯ç”±çš„è·³è½¬ï¼Œä¾‹å¦‚ "),a("code",[t._v("go")]),t._v("ã€"),a("code",[t._v("goBack")]),t._v(" ã€"),a("code",[t._v("goForward")])]),t._v(" "),a("h2",{attrs:{id:"_3-withrouter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-withrouter"}},[t._v("#")]),t._v(" 3. withRouter")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬éœ€è¦åœ¨é¡µé¢å†…éƒ¨æ·»åŠ å›é€€å‰è¿›ç­‰æŒ‰é’®æ—¶ï¼Œç”±äºè¿™äº›ç»„ä»¶æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡ä¸€èˆ¬ç»„ä»¶çš„æ–¹å¼å»ç¼–å†™ï¼Œå› æ­¤æˆ‘ä»¬ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œ"),a("strong",[t._v("æ— æ³•è·å¾— history å¯¹è±¡")]),t._v("ï¼Œè¿™æ­£æ˜¯å› ä¸ºæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯ä¸€èˆ¬ç»„ä»¶é€ æˆçš„ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210906231051190.png",alt:"image-20210906231051190"}})]),t._v(" "),a("p",[t._v("åªæœ‰è·¯ç”±ç»„ä»¶æ‰èƒ½è·å–åˆ° history å¯¹è±¡")]),t._v(" "),a("p",[t._v("å› æ­¤æˆ‘ä»¬éœ€è¦å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ "),a("code",[t._v("react-router-dom")]),t._v(" å¯¹è±¡ä¸‹çš„ "),a("code",[t._v("withRouter")]),t._v(" å‡½æ•°æ¥å¯¹æˆ‘ä»¬å¯¼å‡ºçš„ "),a("code",[t._v("Header")]),t._v(" ç»„ä»¶è¿›è¡ŒåŒ…è£…ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½è·å¾—ä¸€ä¸ªæ‹¥æœ‰ "),a("code",[t._v("history")]),t._v(" å¯¹è±¡çš„ä¸€èˆ¬ç»„ä»¶")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éœ€è¦å¯¹å“ªä¸ªç»„ä»¶åŒ…è£…å°±åœ¨å“ªä¸ªç»„ä»¶ä¸‹å¼•å…¥")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Header/index.jsx")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" withRouter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-router-dom'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨æœ€åå¯¼å‡ºå¯¹è±¡æ—¶ï¼Œç”¨ `withRouter` å‡½æ•°å¯¹ index è¿›è¡ŒåŒ…è£…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("withRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("è¿™æ ·å°±èƒ½è®©ä¸€èˆ¬ç»„ä»¶è·å¾—è·¯ç”±ç»„ä»¶æ‰€ç‰¹æœ‰çš„ API")]),t._v(" "),a("h2",{attrs:{id:"_4-browserrouter-å’Œ-hashrouter-çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-browserrouter-å’Œ-hashrouter-çš„åŒºåˆ«"}},[t._v("#")]),t._v(" 4. BrowserRouter å’Œ HashRouter çš„åŒºåˆ«")]),t._v(" "),a("h4",{attrs:{id:"å®ƒä»¬çš„åº•å±‚å®ç°åŸç†ä¸ä¸€æ ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®ƒä»¬çš„åº•å±‚å®ç°åŸç†ä¸ä¸€æ ·"}},[t._v("#")]),t._v(" "),a("strong",[t._v("å®ƒä»¬çš„åº•å±‚å®ç°åŸç†ä¸ä¸€æ ·")])]),t._v(" "),a("p",[t._v("å¯¹äº BrowserRouter æ¥è¯´å®ƒä½¿ç”¨çš„æ˜¯ React ä¸ºå®ƒå°è£…çš„ history API ï¼Œè¿™é‡Œçš„ history å’Œæµè§ˆå™¨ä¸­çš„ history æœ‰æ‰€ä¸åŒå™¢ï¼é€šè¿‡æ“ä½œè¿™äº› API æ¥å®ç°è·¯ç”±çš„ä¿å­˜ç­‰æ“ä½œï¼Œä½†æ˜¯è¿™äº› API æ˜¯ H5 ä¸­æå‡ºçš„ï¼Œå› æ­¤ä¸å…¼å®¹ IE9 ä»¥ä¸‹ç‰ˆæœ¬ã€‚")]),t._v(" "),a("p",[t._v("å¯¹äº HashRouter è€Œè¨€ï¼Œå®ƒå®ç°çš„åŸç†æ˜¯é€šè¿‡ URL çš„å“ˆå¸Œå€¼ï¼Œä½†æ˜¯è¿™å¥è¯æˆ‘ä¸æ˜¯å¾ˆç†è§£ï¼Œç”¨ä¸€ä¸ªç®€å•çš„è§£é‡Šå°±æ˜¯")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ˜¯é”šç‚¹è·³è½¬ï¼Œå› ä¸ºé”šç‚¹è·³è½¬ä¼šä¿å­˜å†å²è®°å½•ï¼Œä»è€Œè®© HashRouter æœ‰äº†ç›¸å…³çš„å‰è¿›åé€€æ“ä½œï¼ŒHashRouter ä¸ä¼šå°† "),a("code",[t._v("#")]),t._v(" ç¬¦å·åé¢çš„å†…å®¹è¯·æ±‚ã€‚å…¼å®¹æ€§æ›´å¥½ï¼")]),t._v(" "),a("h4",{attrs:{id:"åœ°å€æ çš„è¡¨ç°å½¢å¼ä¸ä¸€æ ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åœ°å€æ çš„è¡¨ç°å½¢å¼ä¸ä¸€æ ·"}},[t._v("#")]),t._v(" åœ°å€æ çš„è¡¨ç°å½¢å¼ä¸ä¸€æ ·")]),t._v(" "),a("ul",[a("li",[t._v("HashRouter çš„è·¯å¾„ä¸­åŒ…å« "),a("code",[t._v("#")]),t._v(" ï¼Œä¾‹å¦‚ "),a("code",[t._v("localhost:3000/#/demo/test")])])]),t._v(" "),a("h4",{attrs:{id:"åˆ·æ–°åè·¯ç”±-state-å‚æ•°æ”¹å˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ·æ–°åè·¯ç”±-state-å‚æ•°æ”¹å˜"}},[t._v("#")]),t._v(" åˆ·æ–°åè·¯ç”± state å‚æ•°æ”¹å˜")]),t._v(" "),a("ol",[a("li",[t._v("åœ¨BrowserRouter ä¸­ï¼Œstate ä¿å­˜åœ¨history å¯¹è±¡ä¸­ï¼Œåˆ·æ–°ä¸ä¼šä¸¢å¤±")]),t._v(" "),a("li",[t._v("HashRouter åˆ™åˆ·æ–°ä¼šä¸¢å¤± state")])])])}),[],!1,null,null,null);s.default=r.exports}}]);
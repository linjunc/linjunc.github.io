(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{449:function(t,s,a){"use strict";a.r(s);var n=a(62),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-%E6%89%A9%E5%B1%95.gif",alt:"react-æ‰©å±•"}})]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°ä¸åŒå­¦ï¼Œä¸€å"),a("font",{attrs:{color:"#2e86de"}},[a("strong",[t._v("å¤§äºŒçš„å‰ç«¯çˆ±å¥½è€…")])])],1),t._v(" "),a("p",[t._v("ğŸ“¢ è¿™ç¯‡æ–‡ç« æ˜¯å­¦ä¹  Reactæ‰©å±•éƒ¨åˆ†çš„å­¦ä¹ ç¬”è®°")]),t._v(" "),a("p",[t._v("ğŸ“¢ éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ ğŸ™")]),t._v(" "),a("p",[t._v("ğŸ“¢ "),a("font",{attrs:{color:"#f368e0"}},[a("strong",[t._v("æ„¿ä½ å¿ äºè‡ªå·±ï¼Œçƒ­çˆ±ç”Ÿæ´»")])])],1)]),t._v(" "),a("h2",{attrs:{id:"å¼•è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•è¨€"}},[t._v("#")]),t._v(" å¼•è¨€")]),t._v(" "),a("p",[t._v("å­¦åˆ°è¿™é‡Œ React å·²ç»å­¦çš„å·®ä¸å¤šäº†ï¼Œæ¥ä¸‹æ¥å°±å­¦ä¹ ä¸€äº› React æ‰©å±•å†…å®¹ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å¼€å‘å’Œç†è§£ï¼Œè¿™éƒ¨åˆ†çš„çŸ¥è¯†è¿˜æœ‰å¾ˆå¤šçš„ä¸œè¥¿å¯ä»¥æ¢å¯»ï¼Œæ¯”å¦‚ï¼šç½‘çº¢ React-Hookï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œæ‰“äº† 100 å¤šé›†çš„ç±»å¼ç»„ä»¶ï¼Œå‡ºæ¥ä¸€ä¸ª hooks ï¼Œç°åœ¨ç”¨å‡½æ•°å¼ç»„ä»¶åå¤šäº†.............")]),t._v(" "),a("p",[t._v("æ‰€ä»¥ Hooks å°±éœ€è¦æˆ‘ä»¬æ·±å…¥çš„å­¦ä¹ ä¸€ä¸‹äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±ä¸€èµ·æ¥çœ‹çœ‹æ‰©å±•éƒ¨åˆ†æœ‰å“ªäº›å†…å®¹å§")]),t._v(" "),a("h2",{attrs:{id:"_1-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-setstate"}},[t._v("#")]),t._v(" 1. setState")]),t._v(" "),a("h3",{attrs:{id:"å¯¹è±¡å¼-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è±¡å¼-setstate"}},[t._v("#")]),t._v(" å¯¹è±¡å¼ setState")]),t._v(" "),a("p",[t._v("é¦–å…ˆåœ¨æˆ‘ä»¬ä»¥å‰çš„è®¤çŸ¥ä¸­ï¼Œ"),a("code",[t._v("setState")]),t._v(" æ˜¯ç”¨æ¥æ›´æ–°çŠ¶æ€çš„ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç»™å®ƒä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå°±åƒè¿™æ ·")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("è¿™æ ·æ¯æ¬¡æ›´æ–°éƒ½ä¼šè®© "),a("code",[t._v("count")]),t._v(" çš„å€¼åŠ  1ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸åšçš„ä¸œè¥¿")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªæ¡ˆä¾‹ï¼Œç‚¹æˆ‘åŠ  1ï¼Œä¸€ä¸ªæŒ‰é’®ä¸€ä¸ªå€¼ï¼Œæˆ‘è¦åœ¨æ§åˆ¶å°è¾“å‡ºæ¯æ¬¡çš„ "),a("code",[t._v("count")]),t._v(" çš„å€¼")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-demo1.gif",alt:"react-extension-demo1"}})]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬éœ€è¦åœ¨æ§åˆ¶å°è¾“å‡ºï¼Œè¦å¦‚ä½•å®ç°å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¼šè€ƒè™‘åœ¨ "),a("code",[t._v("setState")]),t._v(" æ›´æ–°ä¹‹å "),a("code",[t._v("log")]),t._v(" ä¸€ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("å› æ­¤å¯èƒ½ä¼šå†™å‡ºè¿™æ ·çš„ä»£ç ï¼Œçœ‹èµ·æ¥å¾ˆåˆç†ï¼Œåœ¨è°ƒç”¨å®Œ "),a("code",[t._v("setState")]),t._v(" ä¹‹åï¼Œè¾“å‡º "),a("code",[t._v("count")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-demo1-2.gif",alt:"react-extension-demo1-2"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å‘ç°æ˜¾ç¤ºçš„ "),a("code",[t._v("count")]),t._v(" å’Œæˆ‘ä»¬æ§åˆ¶å°è¾“å‡ºçš„ "),a("code",[t._v("count")]),t._v(" å€¼æ˜¯ä¸ä¸€æ ·çš„")]),t._v(" "),a("p",[t._v("è¿™æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬è°ƒç”¨çš„ "),a("code",[t._v("setState")]),t._v(" æ˜¯åŒæ­¥äº‹ä»¶ï¼Œä½†æ˜¯å®ƒçš„ä½œç”¨æ˜¯è®© React å»æ›´æ–°æ•°æ®ï¼Œè€Œ React ä¸ä¼šç«‹å³çš„å»æ›´æ–°æ•°æ®ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„ä»»åŠ¡ï¼Œå› æ­¤æˆ‘ä»¬è¾“å‡ºçš„ "),a("code",[t._v("count")]),t._v(" å€¼ä¼šæ˜¯çŠ¶æ€æ›´æ–°ä¹‹å‰çš„æ•°æ®ã€‚â€œReact "),a("strong",[t._v("çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„")]),t._v("â€")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬è¦å¦‚ä½•å®ç°åŒæ­¥å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å…¶å®åœ¨ "),a("code",[t._v("setState")]),t._v(" è°ƒç”¨çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨çŠ¶æ€æ›´æ–°å®Œæ¯•å¹¶ä¸”ç•Œé¢æ›´æ–°ä¹‹åè°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥è¯•è¯•")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("æˆ‘ä»¬å°† "),a("code",[t._v("setState")]),t._v(" å¡«ä¸Šç¬¬äºŒä¸ªå‚æ•°ï¼Œè¾“å‡ºæ›´æ–°åçš„ "),a("code",[t._v("count")]),t._v(" å€¼")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-demo1-3.gif",alt:"react-extension-demo1-3"}})]),t._v(" "),a("p",[t._v("è¿™æ ·æˆ‘ä»¬å°±èƒ½æˆåŠŸçš„è·å–åˆ°æœ€æ–°çš„æ•°æ®äº†ï¼Œå¦‚æœæœ‰è¿™ä¸ªéœ€æ±‚æˆ‘ä»¬å¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°è¾“å‡ºå™¢~")]),t._v(" "),a("h3",{attrs:{id:"å‡½æ•°å¼-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡½æ•°å¼-setstate"}},[t._v("#")]),t._v(" å‡½æ•°å¼ setState")]),t._v(" "),a("p",[t._v("è¿™ç§ç”¨æ³•æˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è§ï¼Œå‡½æ•°å¼çš„ "),a("code",[t._v("setState")]),t._v(" ä¹Ÿæ˜¯æ¥æ”¶ä¸¤ä¸ªå‚æ•°")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ "),a("code",[t._v("updater")]),t._v("  ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½å¤Ÿè¿”å› "),a("code",[t._v("stateChange")]),t._v(" å¯¹è±¡çš„å‡½æ•°")]),t._v(" "),a("p",[t._v("ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œç”¨äºåœ¨çŠ¶æ€æ›´æ–°å®Œæ¯•ï¼Œç•Œé¢ä¹Ÿæ›´æ–°ä¹‹åè°ƒç”¨")]),t._v(" "),a("p",[t._v("ä¸å¯¹è±¡å¼ "),a("code",[t._v("setState")]),t._v(" ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•° "),a("code",[t._v("updater")]),t._v(" å¯ä»¥æ¥æ”¶åˆ°2ä¸ªå‚æ•° "),a("code",[t._v("state")]),t._v(" å’Œ "),a("code",[t._v("props")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å°è¯•ä¸€ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-demo2-1.gif",alt:"react-extension-demo2-1"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¹ŸæˆåŠŸçš„å®ç°äº†")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸­ä¼ å…¥äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶åˆ° "),a("code",[t._v("state")]),t._v(" ï¼Œæˆ‘ä»¬é€šè¿‡æ›´æ–° "),a("code",[t._v("state")]),t._v(" ä¸­çš„ "),a("code",[t._v("count")]),t._v(" å€¼ï¼Œæ¥é©±åŠ¨é¡µé¢çš„æ›´æ–°")]),t._v(" "),a("p",[t._v("åˆ©ç”¨å‡½æ•°å¼ "),a("code",[t._v("setState")]),t._v(" çš„ä¼˜åŠ¿è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œå¯ä»¥ç›´æ¥è·å¾— "),a("code",[t._v("state")]),t._v(" å’Œ "),a("code",[t._v("props")])]),t._v(" "),a("blockquote",[a("p",[t._v("å¯ä»¥ç†è§£ä¸ºå¯¹è±¡å¼çš„ "),a("code",[t._v("setState")]),t._v(" æ˜¯å‡½æ•°å¼ "),a("code",[t._v("setState")]),t._v(" çš„è¯­æ³•ç³–")])]),t._v(" "),a("h2",{attrs:{id:"_2-lazyload"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-lazyload"}},[t._v("#")]),t._v(" 2. LazyLoad")]),t._v(" "),a("p",[t._v("æ‡’åŠ è½½åœ¨ React ä¸­ç”¨çš„æœ€å¤šçš„å°±æ˜¯è·¯ç”±ç»„ä»¶äº†ï¼Œé¡µé¢åˆ·æ–°æ—¶ï¼Œæ‰€æœ‰çš„é¡µé¢éƒ½ä¼šé‡æ–°åŠ è½½ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°ç‚¹å‡»å“ªä¸ªè·¯ç”±é“¾æ¥å†åŠ è½½å³å¯ï¼Œè¿™æ ·é¿å…äº†ä¸å¿…è¦çš„åŠ è½½")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-demo2-2.gif",alt:"react-extension-demo2-2"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬é¡µé¢ä¸€åŠ è½½æ—¶ï¼Œæ‰€æœ‰çš„è·¯ç”±ç»„ä»¶éƒ½ä¼šè¢«åŠ è½½")]),t._v(" "),a("p",[t._v("å¦‚æœæˆ‘ä»¬æœ‰ 100 ä¸ªè·¯ç”±ç»„ä»¶ï¼Œä½†æ˜¯ç”¨æˆ·åªç‚¹å‡»äº†å‡ ä¸ªï¼Œè¿™å°±ä¼šæœ‰å¾ˆå¤§çš„æ¶ˆè€—ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åšæ‡’åŠ è½½å¤„ç†ï¼Œ"),a("strong",[t._v("æˆ‘ä»¬ç‚¹å‡»å“ªä¸ªæ—¶ï¼Œæ‰å»åŠ è½½å“ªä¸€ä¸ª")])]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦ä» "),a("code",[t._v("react")]),t._v(" åº“ä¸­æš´éœ²ä¸€ä¸ª "),a("code",[t._v("lazy")]),t._v(" å‡½æ•°")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Component "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("lazy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ç„¶åæˆ‘ä»¬éœ€è¦æ›´æ”¹å¼•å…¥ç»„ä»¶çš„æ–¹å¼")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Home "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./Home'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" About "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./About'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("é‡‡ç”¨ "),a("code",[t._v("lazy")]),t._v(" å‡½æ•°åŒ…è£¹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911114307684.png",alt:"image-20210911114307684"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ä¼šé‡åˆ°è¿™æ ·çš„é”™è¯¯ï¼Œæç¤ºæˆ‘ä»¬ç”¨ä¸€ä¸ªæ ‡ç­¾åŒ…è£¹")]),t._v(" "),a("p",[t._v("è¿™é‡Œæ˜¯å› ä¸ºï¼Œå½“æˆ‘ä»¬ç½‘é€Ÿæ…¢çš„æ—¶å€™ï¼Œè·¯ç”±ç»„ä»¶å°±ä¼šæœ‰å¯èƒ½åŠ è½½ä¸å‡ºæ¥ï¼Œé¡µé¢å°±ä¼šç™½å±ï¼Œå®ƒéœ€è¦æˆ‘ä»¬æ¥æŒ‡å®šä¸€ä¸ªè·¯ç”±ç»„ä»¶åŠ è½½çš„ä¸œè¥¿ï¼Œç›¸å¯¹äº loading")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense fallback"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("loading"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Home"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/about"')]),t._v(" component"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("About"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("blockquote",[a("p",[t._v("åœ¨åšè¿™ä¸ªæ¡ˆä¾‹çš„æ—¶å€™ï¼Œä¸€å®šä¸è¦è®¾ç½®é‡å®šå‘çš„ä¸œè¥¿ï¼Œæ‰€æœ‰çš„è·¯ç”±æˆ‘ä»¬è¦ç‚¹å‡»å†åŠ è½½")])]),t._v(" "),a("p",[t._v("åˆæ¬¡ç™»å½•é¡µé¢çš„æ—¶å€™")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911115542647.png",alt:"image-20210911115542647"}})]),t._v(" "),a("p",[t._v("æ³¨æ„å™¢ï¼Œè¿™äº›æ–‡ä»¶éƒ½ä¸æ˜¯è·¯ç”±ç»„ä»¶ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»äº†å¯¹åº”ç»„ä»¶ä¹‹åæ‰ä¼šåŠ è½½")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-lazyload-2.gif",alt:"react-extension-lazyload-2"}})]),t._v(" "),a("p",[t._v("ä»ä¸Šå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæ¯æ¬¡ç‚¹å‡»æ—¶ï¼Œæ‰ä¼šå»è¯·æ±‚ "),a("code",[t._v("chunk")]),t._v(" æ–‡ä»¶")]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬æ›´æ”¹å†™çš„ "),a("code",[t._v("fallback")]),t._v(" æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå®ƒä¼šåœ¨é¡µé¢è¿˜æ²¡æœ‰åŠ è½½å‡ºæ¥çš„æ—¶å€™æ˜¾ç¤º")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-lazyload-3.gif",alt:"react-extension-lazyload-3"}})]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„ï¼šå› ä¸º loading æ˜¯ä½œä¸ºä¸€ä¸ªå…œåº•çš„å­˜åœ¨ï¼Œå› æ­¤ loading æ˜¯ å¿…é¡»æå‰å¼•å…¥çš„ï¼Œä¸èƒ½æ‡’åŠ è½½")])]),t._v(" "),a("h2",{attrs:{id:"_3-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-hooks"}},[t._v("#")]),t._v(" 3. Hooks")]),t._v(" "),a("h3",{attrs:{id:"usestate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usestate"}},[t._v("#")]),t._v(" useState")]),t._v(" "),a("p",[a("code",[t._v("hooks")]),t._v(" è§£å†³äº†å‡½æ•°å¼ç»„ä»¶å’Œç±»å¼ç»„ä»¶çš„å·®å¼‚ï¼Œè®©å‡½æ•°å¼ç»„ä»¶æ‹¥æœ‰äº†ç±»å¼ç»„ä»¶æ‰€æ‹¥æœ‰çš„ "),a("code",[t._v("state")]),t._v(" ï¼ŒåŒæ—¶æ–°å¢äº†ä¸€äº› API ï¼Œè®©å‡½æ•°å¼ç»„ä»¶ï¼Œå˜å¾—æ›´åŠ çš„çµæ´»")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼Œå‡½æ•°å¼ç»„ä»¶"),a("strong",[t._v("æ²¡æœ‰")]),t._v("è‡ªå·±çš„ "),a("code",[t._v("this")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Demo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("å½“å‰æ±‚å’Œä¸ºï¼š"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onClick"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("add"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("ç‚¹æˆ‘åŠ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Demo\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br")])]),a("p",[t._v("åˆ©ç”¨å‡½æ•°å¼ç»„ä»¶å®Œæˆçš„ "),a("strong",[t._v("ç‚¹æˆ‘åŠ 1")]),t._v(" æ¡ˆä¾‹")]),t._v(" "),a("p",[t._v("è¿™é‡Œåˆ©ç”¨äº†ä¸€ä¸ª Hook ï¼š"),a("code",[t._v("useState")])]),t._v(" "),a("p",[t._v("å®ƒè®©å‡½æ•°å¼ç»„ä»¶èƒ½å¤Ÿç»´æŠ¤è‡ªå·±çš„ "),a("code",[t._v("state")]),t._v(" ï¼Œå®ƒ"),a("strong",[t._v("æ¥æ”¶ä¸€ä¸ªå‚æ•°")]),t._v("ï¼Œä½œä¸º"),a("strong",[t._v("åˆå§‹åŒ–")]),t._v(" "),a("code",[t._v("state")]),t._v(" çš„å€¼ï¼Œèµ‹å€¼ç»™ "),a("code",[t._v("count")]),t._v("ï¼Œå› æ­¤ "),a("code",[t._v("useState")]),t._v(" çš„åˆå§‹å€¼åªæœ‰"),a("strong",[t._v("ç¬¬ä¸€æ¬¡æœ‰æ•ˆ")]),t._v("ï¼Œå®ƒæ‰€æ˜ å°„å‡ºçš„ä¸¤ä¸ªå˜é‡ "),a("code",[t._v("count")]),t._v(" å’Œ "),a("code",[t._v("setCount")]),t._v(" æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º "),a("code",[t._v("setState")]),t._v(" æ¥ä½¿ç”¨")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("useState èƒ½å¤Ÿè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ state ï¼Œç¬¬äºŒä¸ªæ˜¯æ›´æ–° state çš„å‡½æ•°")])])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆçœ‹çœ‹æ§åˆ¶å°è¾“å‡ºçš„ä»€ä¹ˆ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911123011304.png",alt:"image-20210911123011304"}})]),t._v(" "),a("p",[a("code",[t._v("count")]),t._v(" æ˜¯åˆå§‹åŒ–çš„å€¼ï¼Œè€Œ "),a("code",[t._v("setCount")]),t._v(" å°±åƒæ˜¯ä¸€ä¸ª "),a("code",[t._v("action")]),t._v(" å¯¹è±¡é©±åŠ¨çŠ¶æ€æ›´æ–°")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥é€šè¿‡ "),a("code",[t._v("setCount")]),t._v(" æ¥æ›´æ–° "),a("code",[t._v("count")]),t._v(" çš„å€¼")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h3",{attrs:{id:"useeffect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#useeffect"}},[t._v("#")]),t._v(" useEffect")]),t._v(" "),a("p",[t._v("åœ¨ç±»å¼ç»„ä»¶ä¸­ï¼Œæä¾›äº†ä¸€äº›å£°æ˜å‘¨æœŸé’©å­ç»™æˆ‘ä»¬ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶çš„ç‰¹æ®Šæ—¶æœŸæ‰§è¡Œç‰¹å®šçš„äº‹æƒ…ï¼Œä¾‹å¦‚ "),a("code",[t._v("componentDidMount")]),t._v(" ï¼Œèƒ½å¤Ÿåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œä¸€äº›ä¸œè¥¿")]),t._v(" "),a("p",[t._v("åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä¹Ÿå¯ä»¥å®ç°ï¼Œå®ƒé‡‡ç”¨çš„æ˜¯ "),a("code",[t._v("effectHook")]),t._v(" ï¼Œå®ƒçš„è¯­æ³•æ›´åŠ çš„ç®€å•ï¼ŒåŒæ—¶èåˆäº† "),a("code",[t._v("componentDidUpdata")]),t._v(" ç”Ÿå‘½å‘¨æœŸï¼Œæå¤§çš„æ–¹ä¾¿äº†æˆ‘ä»¬çš„å¼€å‘")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¢«è°ƒç”¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ç”±äºå‡½æ•°çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°ä¸­éšæ„çš„ç¼–å†™å‡½æ•°ï¼Œè¿™é‡Œæˆ‘ä»¬è°ƒç”¨äº† "),a("code",[t._v("useEffect")]),t._v(" å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰å¤šä¸ªåŠŸèƒ½")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬åƒä¸Šé¢ä»£ç é‚£æ ·ä½¿ç”¨æ—¶ï¼Œå®ƒç›¸å½“äº "),a("code",[t._v("componentDidUpdata")]),t._v(" å’Œ "),a("code",[t._v("componentDidMount")]),t._v(" ä¸€åŒä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯åœ¨"),a("strong",[t._v("ç»„ä»¶æŒ‚è½½å’Œç»„ä»¶æ›´æ–°")]),t._v("çš„æ—¶å€™éƒ½ä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-hook-1.gif",alt:"react-extension-hook-1"}})]),t._v(" "),a("p",[t._v("å®ƒè¿˜å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºå®ƒè¦"),a("strong",[t._v("ç›‘æµ‹çš„æ•°æ®")]),t._v("ï¼Œä¹Ÿå°±æ˜¯ä»–è¦ç›‘è§†å“ªä¸ªæ•°æ®çš„å˜åŒ–")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬ä¸éœ€è¦ç›‘å¬ä»»ä½•çŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°±"),a("strong",[t._v("ä¼ é€’ä¸€ä¸ªç©ºæ•°ç»„")]),t._v("ï¼Œè¿™æ ·å®ƒå°±èƒ½å½“ä½œ "),a("code",[t._v("componentMidMount")]),t._v(" æ¥ä½¿ç”¨")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¢«è°ƒç”¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("è¿™æ ·æˆ‘ä»¬åªæœ‰åœ¨ç»„ä»¶ç¬¬ä¸€æ¬¡æŒ‚è½½çš„æ—¶å€™è§¦å‘")]),t._v(" "),a("p",[t._v("å½“ç„¶å½“é¡µé¢ä¸­æœ‰å¤šä¸ªæ•°æ®æºæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ä¸ªåˆ«çš„æ•°æ®è¿›è¡Œç›‘æµ‹ä»¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœ")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¢«è°ƒç”¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("è¿™æ ·ï¼Œæˆ‘ä»¬å°±åª"),a("strong",[t._v("ç›‘è§† count æ•°æ®çš„å˜åŒ–")])]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬æƒ³è¦åœ¨å¸è½½ä¸€ä¸ªç»„ä»¶ä¹‹å‰è¿›è¡Œä¸€äº›"),a("strong",[t._v("æ¸…é™¤å®šæ—¶å™¨")]),t._v("çš„æ“ä½œï¼Œåœ¨ç±»å¼ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­ "),a("code",[t._v("componentDidUnmount")]),t._v(" æ¥å®ç°ï¼Œåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬çš„å†™æ³•æ›´ä¸ºç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨ "),a("code",[t._v("useEffect")]),t._v(" çš„ç¬¬ä¸€ä¸ªå‚æ•°çš„è¿”å›å€¼ä¸­å®ç°å³å¯\nä¹Ÿå°±æ˜¯è¯´ï¼Œç¬¬ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ä½“ç›¸å½“äº "),a("code",[t._v("componentDidMount")]),t._v(" è¿”å›ä½“ç›¸å½“äº "),a("code",[t._v("componentDidUnmount")]),t._v(" ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å®ç°åœ¨ç»„ä»¶å³å°†è¢«å¸è½½æ—¶è¾“å‡ºä¸€äº›ä¸œè¥¿äº†")]),t._v(" "),a("p",[a("strong",[t._v("å®ç°å¸è½½")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("unmountComponentAtNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("strong",[t._v("å¸è½½å‰è¾“å‡º")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¢«è°ƒç”¨äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æˆ‘è¦è¢«å¸è½½äº†'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/react-extension-hook-2.gif",alt:"react-extension-hook-2"}})]),t._v(" "),a("p",[t._v("å®ç°äº†åœ¨ç»„ä»¶å³å°†è¢«å¸è½½çš„æ—¶å€™è¾“å‡º")]),t._v(" "),a("p",[t._v("å› æ­¤ "),a("code",[t._v("useEffect")]),t._v(" ç›¸å½“äºä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œ"),a("code",[t._v("componentDidMount")]),t._v(" ã€"),a("code",[t._v("componentDidUpdata")]),t._v(" ã€"),a("code",[t._v("componentDidUnmount")])]),t._v(" "),a("h3",{attrs:{id:"useref"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#useref"}},[t._v("#")]),t._v(" useRef")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬æƒ³è¦è·å–ç»„ä»¶å†…çš„ä¿¡æ¯æ—¶ï¼Œåœ¨ç±»å¼ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡‡ç”¨ "),a("code",[t._v("ref")]),t._v(" çš„æ–¹å¼æ¥è·å–ã€‚åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¹Ÿå¯ä»¥é‡‡ç”¨ "),a("code",[t._v("ref")]),t._v(" ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨ "),a("code",[t._v("useRef")]),t._v(" å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª ref å®¹å™¨ï¼Œè¿™å’Œ "),a("code",[t._v("createRef")]),t._v(" å¾ˆç±»ä¼¼ã€‚")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" ref"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("myRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è·å– ref å€¼")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("show")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("å³å¯æˆåŠŸçš„è·å–åˆ° input æ¡†ä¸­çš„å€¼")]),t._v(" "),a("h2",{attrs:{id:"_4-fragment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-fragment"}},[t._v("#")]),t._v(" 4. Fragment")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç¼–å†™ç»„ä»¶çš„æ—¶å€™æ¯æ¬¡éƒ½éœ€è¦é‡‡ç”¨ä¸€ä¸ª "),a("code",[t._v("div")]),t._v(" æ ‡ç­¾åŒ…è£¹ï¼Œæ‰èƒ½è®©å®ƒæ­£å¸¸çš„ç¼–è¯‘ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¼•å‘ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬æ‰“å¼€æ§åˆ¶å°çœ‹çœ‹å®ƒçš„å±‚çº§")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911151643934.png",alt:"image-20210911151643934"}})]),t._v(" "),a("p",[t._v("å®ƒåŒ…è£¹äº†å‡ å±‚æ— æ„ä¹‰çš„ div æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ "),a("code",[t._v("Fragment")]),t._v(" æ¥è§£å†³è¿™ä¸ªé—®é¢˜")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä» react ä¸­æš´éœ²å‡º "),a("code",[t._v("Fragment")]),t._v(" ï¼Œå°†æˆ‘ä»¬æ‰€å†™çš„å†…å®¹é‡‡ç”¨ "),a("code",[t._v("Fragment")]),t._v(" æ ‡ç­¾è¿›è¡ŒåŒ…è£¹ï¼Œå½“å®ƒè§£æåˆ° "),a("code",[t._v("Fragment")]),t._v(" æ ‡ç­¾çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠå®ƒå»æ‰")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911152037120.png",alt:"image-20210911152037120"}})]),t._v(" "),a("p",[t._v("è¿™æ ·æˆ‘ä»¬çš„å†…å®¹å°±ç›´æ¥æŒ‚åœ¨äº† "),a("code",[t._v("root")]),t._v(" æ ‡ç­¾ä¸‹")]),t._v(" "),a("blockquote",[a("p",[t._v("åŒæ—¶é‡‡ç”¨ç©ºæ ‡ç­¾ï¼Œä¹Ÿèƒ½å®ç°ï¼Œä½†æ˜¯å®ƒä¸èƒ½æ¥æ”¶ä»»ä½•å€¼ï¼Œè€Œ "),a("code",[t._v("Fragment")]),t._v(" èƒ½å¤Ÿæ¥æ”¶ 1 ä¸ªå€¼"),a("code",[t._v("key")])])]),t._v(" "),a("h2",{attrs:{id:"_5-context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-context"}},[t._v("#")]),t._v(" 5. Context")]),t._v(" "),a("h4",{attrs:{id:"ä»…é€‚ç”¨äºç±»å¼ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»…é€‚ç”¨äºç±»å¼ç»„ä»¶"}},[t._v("#")]),t._v(" ä»…é€‚ç”¨äºç±»å¼ç»„ä»¶")]),t._v(" "),a("p",[t._v("å½“æˆ‘ä»¬æƒ³è¦ç»™å­ç±»çš„å­ç±»ä¼ é€’æ•°æ®æ—¶ï¼Œå‰é¢æˆ‘ä»¬è®²è¿‡äº† redux çš„åšæ³•ï¼Œè¿™é‡Œä»‹ç»çš„ Context æˆ‘è§‰å¾—ä¹Ÿç±»ä¼¼äº Redux")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦å¼•å…¥ä¸€ä¸ª "),a("code",[t._v("MyContext")]),t._v(" ç»„ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å¼•ç”¨"),a("code",[t._v("MyContext")]),t._v(" ä¸‹çš„ "),a("code",[t._v("Provider")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" MyContext "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("ç”¨ "),a("code",[t._v("Provider")]),t._v(" æ ‡ç­¾åŒ…è£¹ Aç»„ä»¶å†…çš„ B ç»„ä»¶ï¼Œå¹¶é€šè¿‡ "),a("code",[t._v("value")]),t._v(" å€¼ï¼Œå°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼Œè¿™æ ·ä»¥ A ç»„ä»¶ä¸ºçˆ¶ä»£ç»„ä»¶çš„æ‰€æœ‰å­ç»„ä»¶éƒ½èƒ½å¤Ÿæ¥å—åˆ°æ•°æ®")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Provider"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ä½†æ˜¯æˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ•°æ®çš„ç»„ä»¶ä¸­å¼•å…¥ "),a("code",[t._v("MyContext")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" contextType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("åœ¨ä½¿ç”¨æ—¶ï¼Œç›´æ¥ä» "),a("code",[t._v("this.context")]),t._v(" ä¸Šå–å€¼å³å¯")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h4",{attrs:{id:"é€‚ç”¨äºå‡½æ•°å’Œç±»å¼ç»„ä»¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€‚ç”¨äºå‡½æ•°å’Œç±»å¼ç»„ä»¶"}},[t._v("#")]),t._v(" é€‚ç”¨äºå‡½æ•°å’Œç±»å¼ç»„ä»¶")]),t._v(" "),a("p",[t._v("ç”±äºå‡½æ•°å¼ç»„ä»¶æ²¡æœ‰è‡ªå·± "),a("code",[t._v("this")]),t._v(" ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½é€šè¿‡ "),a("code",[t._v("this.context")]),t._v(" æ¥è·å–æ•°æ®")]),t._v(" "),a("p",[t._v("è¿™é‡Œæˆ‘ä»¬éœ€è¦ä» "),a("code",[t._v("Context")]),t._v(" èº«ä¸Šæš´éœ²å‡ºä¸€ä¸ª "),a("code",[t._v("Consumer")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Consumer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MyContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ç„¶åé€šè¿‡ "),a("code",[t._v("value")]),t._v(" å–å€¼å³å¯")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("æˆ‘æ˜¯"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v("ç»„ä»¶ï¼Œæˆ‘ä»"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("æ¥æ”¶åˆ°çš„æ•°æ® "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h3"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Consumer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(",å¹´é¾„æ˜¯")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Consumer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210911161103300.png",alt:"image-20210911161103300"}})]),t._v(" "),a("blockquote",[a("p",[t._v("å› æ­¤æƒ³è¦åœ¨å‡½æ•°å¼ç»„ä»¶ä¸­ä½¿ç”¨ï¼Œéœ€è¦å¼•å…¥ "),a("code",[t._v("Consumer")])])]),t._v(" "),a("h2",{attrs:{id:"_6-purecomponent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-purecomponent"}},[t._v("#")]),t._v(" 6. PureComponent")]),t._v(" "),a("p",[t._v("åœ¨æˆ‘ä»¬ä¹‹å‰ä¸€ç›´å†™çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´ä½¿ç”¨çš„"),a("code",[t._v("Component")]),t._v(" æ˜¯æœ‰é—®é¢˜å­˜åœ¨çš„")]),t._v(" "),a("ol",[a("li",[t._v("åªè¦æ‰§è¡Œ "),a("code",[t._v("setState")]),t._v(" ï¼Œå³ä½¿ä¸æ”¹å˜çŠ¶æ€æ•°æ®ï¼Œç»„ä»¶ä¹Ÿä¼šè°ƒç”¨ "),a("code",[t._v("render")])]),t._v(" "),a("li",[t._v("å½“å‰ç»„ä»¶çŠ¶æ€æ›´æ–°ï¼Œä¹Ÿä¼šå¼•èµ·å­ç»„ä»¶ "),a("code",[t._v("render")])])]),t._v(" "),a("p",[t._v("è€Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯åªæœ‰ç»„ä»¶çš„ "),a("code",[t._v("state")]),t._v(" æˆ–è€… "),a("code",[t._v("props")]),t._v(" æ•°æ®å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œå†è°ƒç”¨ "),a("code",[t._v("render")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥é‡‡ç”¨é‡å†™ "),a("code",[t._v("shouldComponentUpdate")]),t._v(" çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸èƒ½æ ¹æ²»è¿™ä¸ªé—®é¢˜ï¼Œå½“çŠ¶æ€å¾ˆå¤šæ—¶ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•å¢åŠ åˆ¤æ–­")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ "),a("code",[t._v("PureComponent")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥ä» "),a("code",[t._v("react")]),t._v(" èº«ä¸Šæš´éœ²å‡º "),a("code",[t._v("PureComponent")]),t._v(" è€Œä¸ä½¿ç”¨ "),a("code",[t._v("Component")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" PureComponent "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("å°±è¿™~å¬äº†åŠå¤©ç»“æœå°±åªä¸€ä¸ª "),a("code",[t._v("PureComponent")])]),t._v(" "),a("p",[a("code",[t._v("PureComponent")]),t._v(" ä¼šå¯¹æ¯”å½“å‰å¯¹è±¡å’Œä¸‹ä¸€ä¸ªçŠ¶æ€çš„ "),a("code",[t._v("prop")]),t._v(" å’Œ "),a("code",[t._v("state")]),t._v(" ï¼Œè€Œè¿™ä¸ªæ¯”è¾ƒå±äºæµ…æ¯”è¾ƒï¼Œæ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯å¦ç›¸åŒï¼Œè€Œå¯¹äºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œ"),a("strong",[t._v("æ¯”è¾ƒçš„æ˜¯å®ƒçš„å¼•ç”¨åœ°å€æ˜¯å¦ç›¸åŒï¼Œè¿™ä¸ªæ¯”è¾ƒä¸å†…å®¹æ— å…³")])]),t._v(" "),a("h2",{attrs:{id:"_7-render-props"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-render-props"}},[t._v("#")]),t._v(" 7. render props")]),t._v(" "),a("p",[t._v("é‡‡ç”¨ render props æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥åƒç»„ä»¶å†…éƒ¨åŠ¨æ€ä¼ å…¥å¸¦æœ‰å†…å®¹çš„ç»“æ„")]),t._v(" "),a("blockquote",[a("p",[t._v("å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªç»„ä»¶æ ‡ç­¾ä¸­å¡«å†™å†…å®¹æ—¶ï¼Œè¿™ä¸ªå†…å®¹ä¼šè¢«å®šä¹‰ä¸º children propsï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ "),a("code",[t._v("this.props.children")]),t._v(" æ¥è·å–")])]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("hello"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™ä¸ª hello æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ children æ¥è·å–")]),t._v(" "),a("p",[t._v("è€Œæˆ‘ä»¬æ‰€è¯´çš„ render props å°±æ˜¯åœ¨ç»„ä»¶æ ‡ç­¾ä¸­ä¼ å…¥ä¸€ä¸ª render æ–¹æ³•ï¼Œåˆå› ä¸ºå±äº props ï¼Œå› è€Œè¢«å«åšäº† render props")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" render"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ä½ å¯ä»¥æŠŠ "),a("code",[t._v("render")]),t._v(" çœ‹ä½œæ˜¯ "),a("code",[t._v("props")]),t._v("ï¼Œåªæ˜¯å®ƒæœ‰ç‰¹æ®Šä½œç”¨ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥ç”¨å…¶ä»–åå­—æ¥å‘½å")]),t._v(" "),a("p",[t._v("åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ A ç»„ä»¶ä¸­é¢„ç•™å‡º C ç»„ä»¶æ¸²æŸ“çš„ä½ç½® åœ¨éœ€è¦çš„ä½ç½®ä¸ŠåŠ ä¸Š"),a("code",[t._v("{this.props.render(name)}")])]),t._v(" "),a("p",[t._v("é‚£æˆ‘ä»¬åœ¨ C ç»„ä»¶ä¸­ï¼Œå¦‚ä½•æ¥æ”¶ A ç»„ä»¶ä¼ é€’çš„ "),a("code",[t._v("name")]),t._v(" å€¼å‘¢ï¼Ÿé€šè¿‡ "),a("code",[t._v("this.props.name")]),t._v(" çš„æ–¹å¼")]),t._v(" "),a("h2",{attrs:{id:"_8-errorboundary"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-errorboundary"}},[t._v("#")]),t._v(" 8. ErrorBoundary")]),t._v(" "),a("p",[t._v("å½“ä¸å¯æ§å› ç´ å¯¼è‡´æ•°æ®ä¸æ­£å¸¸æ—¶ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†æŠ¥é”™é¡µé¢å‘ˆç°åœ¨ç”¨æˆ·çš„é¢å‰ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰åŠæ³•ç»™æ¯ä¸€ä¸ªç»„ä»¶ã€æ¯ä¸€ä¸ªæ–‡ä»¶æ·»åŠ åˆ¤æ–­ï¼Œæ¥ç¡®ä¿æ­£å¸¸è¿è¡Œï¼Œè¿™æ ·å¾ˆä¸ç°å®ï¼Œå› æ­¤æˆ‘ä»¬è¦ç”¨åˆ°"),a("strong",[t._v("é”™è¯¯è¾¹ç•Œ")]),t._v("æŠ€æœ¯")]),t._v(" "),a("p",[a("strong",[t._v("é”™è¯¯è¾¹ç•Œå°±æ˜¯è®©è¿™å—ç»„ä»¶æŠ¥é”™çš„å½±å“é™åˆ°æœ€å°ï¼Œä¸è¦å½±å“åˆ°å…¶ä»–ç»„ä»¶æˆ–è€…å…¨å±€çš„æ­£å¸¸è¿è¡Œ")])]),t._v(" "),a("blockquote",[a("p",[t._v("ä¾‹å¦‚ A ç»„ä»¶æŠ¥é”™äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ A ç»„ä»¶å†…æ·»åŠ ä¸€å°æ®µçš„æç¤ºï¼Œå¹¶æŠŠé”™è¯¯æ§åˆ¶åœ¨ A ç»„ä»¶å†…ï¼Œä¸å½±å“å…¶ä»–ç»„ä»¶")])]),t._v(" "),a("ul",[a("li",[t._v("æˆ‘ä»¬è¦å¯¹å®¹æ˜“å‡ºé”™çš„ç»„ä»¶çš„çˆ¶ç»„ä»¶åšæ‰‹è„šï¼Œè€Œä¸æ˜¯ç»„ä»¶æœ¬èº«")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬åœ¨çˆ¶ç»„ä»¶ä¸­é€šè¿‡ "),a("code",[t._v("getDerivedStateFromError")]),t._v(" æ¥é…ç½®"),a("strong",[t._v("å­ç»„ä»¶")]),t._v("å‡ºé”™æ—¶çš„å¤„ç†å‡½æ•°")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromError")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasError")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" error "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[t._v("æˆ‘ä»¬å¯ä»¥å°† "),a("code",[t._v("hasError")]),t._v(" é…ç½®åˆ°çŠ¶æ€å½“ä¸­ï¼Œå½“ "),a("code",[t._v("hasError")]),t._v(" çŠ¶æ€æ”¹å˜æˆ "),a("code",[t._v("error")]),t._v(" æ—¶ï¼Œè¡¨æ˜æœ‰é”™è¯¯å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç»„ä»¶ä¸­é€šè¿‡åˆ¤æ–­ "),a("code",[t._v("hasError")]),t._v(" å€¼ï¼Œæ¥æŒ‡å®šæ˜¯å¦æ˜¾ç¤ºå­ç»„ä»¶")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hasError "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("å‡ºé”™å•¦"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Child "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("blockquote",[a("p",[t._v("åœ¨æœåŠ¡å™¨ä¸­å¯åŠ¨ï¼Œæ‰èƒ½æ­£å¸¸çœ‹åˆ°æ•ˆæœ")])]),t._v(" "),a("p",[t._v("å¯ä»¥åœ¨ "),a("code",[t._v("componentDidCatch")]),t._v(" ä¸­ç»Ÿè®¡é”™è¯¯æ¬¡æ•°ï¼Œé€šçŸ¥ç¼–ç äººå‘˜è¿›è¡Œ bug è§£å†³")]),t._v(" "),a("h2",{attrs:{id:"_9-ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“"}},[t._v("#")]),t._v(" 9. ç»„ä»¶é€šä¿¡æ–¹å¼æ€»ç»“")]),t._v(" "),a("ol",[a("li",[t._v("props\n"),a("ul",[a("li",[t._v("children props")]),t._v(" "),a("li",[t._v("render props")])])]),t._v(" "),a("li",[t._v("æ¶ˆæ¯å‘å¸ƒè®¢é˜…\n"),a("ul",[a("li",[t._v("åˆ©ç”¨ pubsub åº“æ¥å®ç°")])])]),t._v(" "),a("li",[t._v("é›†ä¸­å¼çŠ¶æ€ç®¡ç†\n"),a("ul",[a("li",[t._v("redux")])])]),t._v(" "),a("li",[t._v("conText\n"),a("ul",[a("li",[t._v("ç”Ÿæˆè€…-æ¶ˆè´¹è€…")])])])]),t._v(" "),a("p",[a("strong",[t._v("é€‰æ‹©æ–¹å¼")])]),t._v(" "),a("p",[t._v("çˆ¶å­ç»„ä»¶é‡‡ç”¨ï¼š"),a("code",[t._v("props")])]),t._v(" "),a("p",[t._v("å…„å¼Ÿç»„ä»¶é‡‡ç”¨ï¼šæ¶ˆæ¯çš„å‘å¸ƒè®¢é˜…ã€redux")]),t._v(" "),a("p",[t._v("ç¥–å­™ç»„ä»¶ï¼šæ¶ˆæ¯å‘å¸ƒè®¢é˜…ã€reduxã€context")])])}),[],!1,null,null,null);s.default=e.exports}}]);
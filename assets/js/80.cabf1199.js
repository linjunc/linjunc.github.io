(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{529:function(t,s,a){"use strict";a.r(s);var n=a(65),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å¦‚ä½•ä¼˜é›…çš„åœ¨-h5-ç½‘é¡µä¸­å®ç°æ‰«ç åŠŸèƒ½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•ä¼˜é›…çš„åœ¨-h5-ç½‘é¡µä¸­å®ç°æ‰«ç åŠŸèƒ½"}},[t._v("#")]),t._v(" å¦‚ä½•ä¼˜é›…çš„åœ¨ H5 ç½‘é¡µä¸­å®ç°æ‰«ç åŠŸèƒ½")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130114038729.png",alt:"image-20211130114038729"}})]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°ä¸åŒå­¦ï¼Œä¸€å"),a("strong",[t._v("å¤§äºŒçš„å‰ç«¯çˆ±å¥½è€…")])]),t._v(" "),a("p",[t._v("ğŸ“¢ è¿™ç¯‡æ–‡ç« å°†æ¥è®²è®²å¦‚ä½•åœ¨å¾®ä¿¡å…¬ä¼—å·é¡µé¢ä¸­æ¥å…¥å®˜æ–¹æ‰«ç  SDK")]),t._v(" "),a("p",[t._v("ğŸ“¢ éå¸¸æ„Ÿè°¢ä½ çš„é˜…è¯»ï¼Œä¸å¯¹çš„åœ°æ–¹æ¬¢è¿æŒ‡æ­£ ğŸ™")]),t._v(" "),a("p",[t._v("ğŸ“¢ "),a("strong",[t._v("æ„¿ä½ å¿ äºè‡ªå·±ï¼Œçƒ­çˆ±ç”Ÿæ´»")])])]),t._v(" "),a("p",[t._v("æœ€è¿‘åœ¨åšçš„é¡¹ç›®ä¸­éœ€è¦å®ç°ä¸€ä¸ª"),a("strong",[t._v("æ‰«ç å½•å…¥")]),t._v("çš„åŠŸèƒ½ï¼Œå…·ä½“æ•ˆæœå°±æ˜¯åœ¨ç‚¹å‡»æ‰«ç æŒ‰é’®åè°ƒå–æ‘„åƒå¤´ï¼Œæ‰«ææ¡å½¢ç å°†è§£ç åçš„æ•°æ®å¡«å…¥åˆ°è¾“å…¥æ¡†ä¸­ã€‚ç›¸ä¿¡è¿™ä¸ªåŠŸèƒ½åœ¨æ—¥å¸¸çš„æ‰‹æœºä½¿ç”¨ä¸­ï¼Œæ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œä¸‹é¢æ¥çœ‹çœ‹æˆ‘æ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥"),a("s",[t._v("è¸©å‘")]),a("strong",[t._v("å®ç°")]),t._v("çš„å§")]),t._v(" "),a("h2",{attrs:{id:"ğŸ’¡-å†…å®¹æŠ¢å…ˆçœ‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-å†…å®¹æŠ¢å…ˆçœ‹"}},[t._v("#")]),t._v(" ğŸ’¡ å†…å®¹æŠ¢å…ˆçœ‹")]),t._v(" "),a("ol",[a("li",[t._v("é‡‡ç”¨ "),a("code",[t._v("Quagga")]),t._v(" åº“å®ç°é‡åˆ°çš„é—®é¢˜å’Œç“¶é¢ˆ")]),t._v(" "),a("li",[t._v("æ¥å…¥å¾®ä¿¡ SDK çš„è¸©å‘æŒ‡åŒ—")]),t._v(" "),a("li",[t._v("æœ€ç»ˆè§£å†³æ–¹æ¡ˆ")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/%E5%AE%9E%E7%8E%B0%E6%89%AB%E7%A0%81.png",alt:"å®ç°æ‰«ç "}})]),t._v(" "),a("h2",{attrs:{id:"ä¸€ã€æ‰«ç åˆæ¢-quagga"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€æ‰«ç åˆæ¢-quagga"}},[t._v("#")]),t._v(" ä¸€ã€æ‰«ç åˆæ¢ Quagga")]),t._v(" "),a("p",[t._v("ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°æ‰«ç çš„ä¸šåŠ¡ï¼Œä¸€åˆ‡éƒ½æ˜¯å…¨æ–°çš„ï¼Œä¹Ÿä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ï¼Œå…ˆåˆ°å„ä¸ªç¤¾åŒºæœç´¢äº†ä¸€ä¸‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130121124068.png",alt:"image-20211130121124068"}})]),t._v(" "),a("p",[t._v("å½“æ—¶çš„æœç´¢è¯å¤§æ¦‚æ˜¯è¿™æ ·ï¼Œå¾—åˆ°ç»“æœå°±æ˜¯åˆ©ç”¨ "),a("code",[t._v("HTML5")]),t._v(" ä¸­æä¾›çš„ "),a("code",[t._v("API")]),t._v(" å»å®ç°ï¼Œç„¶ååˆçœ‹åˆ°äº† "),a("code",[t._v("Quagga")]),t._v("ï¼Œ"),a("code",[t._v("barCode")]),t._v(" ç­‰åº“ï¼Œåœ¨ "),a("code",[t._v("npm")]),t._v(" ä¸ŠæŸ¥çœ‹äº†å®˜æ–¹æè¿°åï¼Œæˆ‘è§‰å¾— "),a("code",[t._v("Quagga")]),t._v(" è¿™ä¸ªåº“å¯èƒ½æ›´ç¬¦åˆè¿™ä¸ªé¡¹ç›®çš„éœ€æ±‚ï¼Œå› æ­¤å¯¹ "),a("code",[t._v("Quagga")]),t._v(" è¿›è¡Œäº†ä¸€ç•ªç ”ç©¶ "),a("a",{attrs:{href:"https://www.npmjs.com/package/quagga",target:"_blank",rel:"noopener noreferrer"}},[t._v("Quagga"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130121818613.png",alt:"image-20211130121818613"}})]),t._v(" "),a("p",[t._v("è¿™ä¸ªåº“çš„ä½¿ç”¨å¹¶ä¸éš¾ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥ "),a("code",[t._v("Quagga")]),t._v(" è¿™ä¸ªåº“")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" quagga\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("ç”±äºæˆ‘æ˜¯åœ¨ "),a("code",[t._v("React")]),t._v(" é¡¹ç›®ä¸‹å¼€å‘çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ "),a("code",[t._v("return")]),t._v(" çš„ "),a("code",[t._v("JSX")]),t._v(" å†… æ·»åŠ ä¸€ä¸ª "),a("code",[t._v("DOM")]),t._v(" èŠ‚ç‚¹ï¼Œç”¨æ¥å®šåˆ¶æ‘„åƒå¤´æ‰“å¼€æ‘„åƒå¤´å½±åƒçš„æŠ•æ”¾åŒºåŸŸ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130122444485.png",alt:"image-20211130122444485"}})]),t._v(" "),a("p",[t._v("ä»£ç ä¸­çš„ "),a("code",[t._v("yourElement")]),t._v("  èŠ‚ç‚¹å°±æ˜¯ç”¨æ¥åšæ‘„åƒå¤´çš„å½±åƒæŠ•æ”¾çš„")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œéœ€è¦å¼€å§‹ä½¿ç”¨ "),a("code",[t._v("Quagga")]),t._v(" ï¼Œå¤§æ¦‚å°±æ˜¯è°ƒä¸€ä¸‹æ–¹æ³•ï¼Œé…ç½®ä¸€ä¸‹è§£ç æ–¹å¼ï¼Œæ‰«ç åŒºåŸŸï¼Œç„¶åå°±èƒ½å”¤èµ·æ‘„åƒå¤´ï¼Œè¿›è¡Œæ‰«ç ï¼Œå†å¤„ç†ä¸€ä¸‹æ‰«ç ç»“æœã€‚ç”±äºåˆå­¦ï¼Œå¯¹å®ƒå…·ä½“çš„ä»£ç ä¹¦å†™è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå› æ­¤çœ‹è€å¤–æ•²äº†ä¸€æ™šçš„ä»£ç ï¼Œå¹¶åœ¨ä¸€ä¸ªå¤§ä½¬çš„ "),a("code",[t._v("github")]),t._v(" ä»“åº“å†…ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå¼€æºçš„æ‰«ç å½•å…¥é¡¹ç›® ğŸ‘‡ğŸ‘‡ğŸ‘‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130122823986.png",alt:"image-20211130122823986"}})]),t._v(" "),a("p",[t._v("çœ‹äº†çœ‹å®ƒçš„å®ç°ä»£ç ï¼Œç„¶åå¼€å§‹äº†æˆ‘çš„è¸©å‘")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆå§‹åŒ– "),a("code",[t._v("Quagga")])]),t._v(" "),a("p",[t._v("éœ€è¦å®šåˆ¶ä¸€ä¸‹æˆ‘ä»¬çš„è§£ç æ–¹å¼ï¼Œå¯¹äºæˆ‘ä»¬éœ€è¦æ‰«æçš„ç æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Œå¯ä»¥æ‰¾ä¸ªæ£€æµ‹ç½‘ç«™æµ‹ä¸€ä¸‹ï¼Œæˆ‘çš„æ˜¯ "),a("code",[t._v("Code39")]),t._v(" ç±»å‹çš„")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Quagga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("inputStream")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Live"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LiveStream"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–¹å¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constraints")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("width")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'790'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("height")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'490'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§£ç åŒºåŸŸ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("numberOfWorkers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" navigator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hardwareConcurrency"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("target")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#barcodeScan'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½±åƒè¾“å‡ºåˆ°çš„èŠ‚ç‚¹")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("locate")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("decoder")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("readers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"code_39_reader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§£ç æ–¹å¼")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  Quagga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nQuagga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onDetected")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onDetect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("p",[t._v("å½“æˆåŠŸæ‰«ç åä¼šè°ƒç”¨ "),a("code",[t._v("onDetected")]),t._v(" æ–¹æ³•ï¼Œè¿™å°±æœ‰ç‚¹åƒç”Ÿå‘½å‘¨æœŸä¸€æ ·ï¼Œéƒ½æ˜¯å®šä¹‰å¥½çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°é‡Œæ¥æ”¶åˆ°è¿”å›æ¥çš„ "),a("code",[t._v("result")]),t._v(" è·å–åˆ° "),a("code",[t._v("codeResult")]),t._v(" æ‰«æç»“æœ")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("onDetect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// console.log(res.codeResult.code)")]),t._v("\n  Quagga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Quagga"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("offProcessed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("codeResult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç–¯ç‹‚çš„æ‰«ç ï¼Œæµ‹è¯•ï¼Œç»è¿‡äº†ä¸€æ™šä¸Šçš„æµ‹è¯•ï¼Œæˆ‘å‘ç°å®ƒå¹¶ä¸èƒ½åƒåˆ«äººè§†é¢‘ä¸­é‚£æ ·æµç•…å‡†ç¡®çš„è¿›è¡Œè§£ç ï¼ŒåŸºæœ¬ä¸Šè¾“å‡ºçš„ç»“æœæ²¡å‡ ä¸ªæ˜¯å¯¹çš„ä¸Šçš„ï¼Œå› æ­¤æ­¤è·¯è¡Œä¸é€šï¼Œå¼€å§‹èŒç”Ÿäº†æ”¾å¼ƒçš„æƒ³æ³•ï¼Œåæ¥å‘ç°å¯ä»¥ç›´æ¥è°ƒå–å¾®ä¿¡çš„æ‰«ç åŠŸèƒ½ï¼Œæ¥å®ç°æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå› æ­¤å¼€å§‹äº†å¾®ä¿¡ SDK è¸©å‘ä¹‹è·¯")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130123646800.png",alt:"image-20211130123646800"}})]),t._v(" "),a("h2",{attrs:{id:"äºŒã€å¤§æˆ˜å¾®ä¿¡-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€å¤§æˆ˜å¾®ä¿¡-sdk"}},[t._v("#")]),t._v(" äºŒã€å¤§æˆ˜å¾®ä¿¡ SDK")]),t._v(" "),a("p",[t._v("åœ¨ç»å†äº† "),a("code",[t._v("quagga")]),t._v(" çš„å¤±åˆ©åï¼Œå¼€å§‹äº†æ£é¼“æ¥å…¥å¾®ä¿¡ "),a("code",[t._v("SDK")]),t._v(" æ¥å®ç°ï¼Œ")]),t._v(" "),a("p",[t._v("é¦–å…ˆæˆ‘ä»¬éœ€è¦å¼•å…¥ "),a("code",[t._v("weixin-js-sdk")]),t._v(" ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸€äº› "),a("code",[t._v("wx")]),t._v(" å®˜æ–¹ "),a("code",[t._v("API")]),t._v("ï¼Œæ¯”å¦‚è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ° "),a("code",[t._v("scanQRcode")])]),t._v(" "),a("p",[t._v("åœ¨è¿™é‡Œæˆ‘ä»¬è°ƒç”¨è¿™ä¸ª "),a("code",[t._v("API")]),t._v("ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå…·ä½“å¯ä»¥çœ‹"),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/api/device/scan/wx.scanCode.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®˜æ–¹æ–‡æ¡£"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("æ¯”è¾ƒé‡è¦çš„å°±æ˜¯ "),a("code",[t._v("needResult")]),t._v(" å®ƒå†³å®šæ‰«ç çš„ç»“æœç”±è°æ¥å¤„ç†ï¼Œå¦‚æœæ˜¯ 0 ï¼Œåˆ™ç”±å¾®ä¿¡å¤„ç†ï¼Œä¾‹å¦‚æ‰«å–ä¸€ä¸ªå¿«é€’ç ï¼Œå®ƒåœ¨æ‰«æç»“æŸåä¼šè·³è½¬åˆ°å¯¹åº”çš„é¡µé¢å»ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå› æ­¤è®¾ç½®ä¸º 1ï¼Œä¼šç›´æ¥è¿”å›æ‰«æçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ "),a("code",[t._v("success")]),t._v(" å›è°ƒä¸­è·å–åˆ°è¿™ä¸ªç»“æœ "),a("code",[t._v("resultStr")]),t._v(" ï¼Œè¿™ä¸ª "),a("code",[t._v("resultStr")]),t._v(" æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€é¡¹æ˜¯æ‰«ç çš„ç±»å‹ï¼Œç¬¬äºŒé¡¹æ˜¯è§£ç åçš„å€¼ï¼Œå› æ­¤æˆ‘ä»¬å¤„ç†ä¸€ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scanQRCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("needResult")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤ä¸º0ï¼Œæ‰«æç»“æœç”±å¾®ä¿¡å¤„ç†ï¼Œ1åˆ™ç›´æ¥è¿”å›æ‰«æç»“æœï¼Œ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scanType")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qrCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"barCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥æŒ‡å®šæ‰«äºŒç»´ç è¿˜æ˜¯ä¸€ç»´ç ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resultStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“needResult ä¸º 1 æ—¶ï¼Œæ‰«ç è¿”å›çš„ç»“æœ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fail")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("è¿™æ ·æˆ‘ä»¬ä¸€ä¸ªç®€å•çš„æ‰«ç åŠŸèƒ½å°±å†™å¥½äº†ï¼ŒçœŸæ˜¯å¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦ç»‘å®šåˆ°äº‹ä»¶å¤„ç†å›è°ƒå³å¯è¢«è°ƒç”¨ã€‚çœŸçš„æ˜¯è¿™ä¹ˆç®€å•å—ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯å¾®ä¿¡å¼€æ”¾èƒ½åŠ›ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œé…ç½®ï¼Œé‡‡ç”¨å®˜æ–¹æä¾›çš„ "),a("code",[t._v("wx.config")])]),t._v(" "),a("p",[t._v("éœ€è¦é…ç½®æˆ‘ä»¬çš„ "),a("code",[t._v("appId")]),t._v("ï¼Œä»¥åŠä¸€ä¸ªç­¾åè¿˜éœ€è¦é…ç½®æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„ "),a("code",[t._v("API")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚")]),t._v("\n    appId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†")]),t._v("\n    timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³")]),t._v("\n    nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²")]),t._v("\n    signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç­¾å")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsApiList")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scanQRCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("ç­¾åè¿™äº›é…ç½®é¡¹ï¼Œéœ€è¦åå°å“¥å“¥è¿”å›ï¼Œæˆ‘ä»¬éœ€è¦å‘åç«¯ä¼ é€’æˆ‘ä»¬å½“å‰çš„ "),a("code",[t._v("url")]),t._v("ï¼Œç”¨æ¥ç”Ÿæˆæç­")]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼šä¸€å®šæ˜¯éœ€è¦åŠ¨æ€çš„ï¼Œå†™æ­»äº†ä¼šæœ‰ "),a("code",[t._v("bug")])]),t._v(" "),a("p",[t._v("è¿™æ ·æˆ‘ä»¬è°ƒç”¨æ¥å£ï¼Œåç«¯è¿”å›å‡ ä¸ªå‚æ•°å³å¯")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWxKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("è¿™é‡Œæœ‰å‡ ä¸ªéœ€è¦æ³¨æ„çš„é—®é¢˜")]),t._v(" "),a("ol",[a("li",[t._v("è°ƒå–å¾®ä¿¡ "),a("code",[t._v("API")]),t._v(" éœ€è¦ä½¿ç”¨ "),a("code",[t._v("access_token")]),t._v(" è¿™ä¸ªéœ€è¦åç«¯å»è·å–ï¼Œæ€ä¹ˆè§£å†³æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œåº”è¯¥æ˜¯é€šè¿‡ å¾®ä¿¡å…¬ä¼—å·çš„ "),a("code",[t._v("addId")]),t._v(" å»ç”³è¯·çš„")]),t._v(" "),a("li",[t._v("å‘åç«¯ä¼ é€’çš„ "),a("code",[t._v("url")]),t._v(" ï¼Œæ˜¯éœ€è¦é€šè¿‡"),a("strong",[t._v("åŠ¨æ€è·å–")]),t._v("çš„ï¼Œä¸ç„¶å¯èƒ½ä¼šæœ‰ "),a("code",[t._v("invalid signature")]),t._v(" ç­¾åé”™è¯¯çš„æƒ…å†µ")])]),t._v(" "),a("p",[t._v("åœ¨ä»£ç å±‚é¢ä¸Šï¼Œæˆ‘ä»¬èƒ½åšçš„å°±æ˜¯è¿™äº›äº†ï¼Œå‰ç«¯çš„ä»£ç é€»è¾‘æ²¡æœ‰å¾ˆå¤šï¼Œéƒ½æ˜¯ "),a("code",[t._v("API")]),t._v(" è°ƒç”¨ï¼Œå®Œæ•´ä»£ç å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("openCamera")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWxKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" appId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsKey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" signature "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("debug")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼€å¯è°ƒè¯•æ¨¡å¼,è°ƒç”¨çš„æ‰€æœ‰apiçš„è¿”å›å€¼ä¼šåœ¨å®¢æˆ·ç«¯alertå‡ºæ¥ï¼Œè‹¥è¦æŸ¥çœ‹ä¼ å…¥çš„å‚æ•°ï¼Œå¯ä»¥åœ¨pcç«¯æ‰“å¼€ï¼Œå‚æ•°ä¿¡æ¯ä¼šé€šè¿‡logæ‰“å‡ºï¼Œä»…åœ¨pcç«¯æ—¶æ‰ä¼šæ‰“å°ã€‚")]),t._v("\n        appId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œå…¬ä¼—å·çš„å”¯ä¸€æ ‡è¯†")]),t._v("\n        timestamp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„æ—¶é—´æˆ³")]),t._v("\n        nonceStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç”Ÿæˆç­¾åçš„éšæœºä¸²")]),t._v("\n        signature"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œç­¾å")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("jsApiList")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scanQRCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¿…å¡«ï¼Œéœ€è¦ä½¿ç”¨çš„JSæ¥å£åˆ—è¡¨")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        wx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("scanQRCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("needResult")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é»˜è®¤ä¸º0ï¼Œæ‰«æç»“æœç”±å¾®ä¿¡å¤„ç†ï¼Œ1åˆ™ç›´æ¥è¿”å›æ‰«æç»“æœï¼Œ")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("scanType")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qrCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"barCode"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥æŒ‡å®šæ‰«äºŒç»´ç è¿˜æ˜¯ä¸€ç»´ç ï¼Œé»˜è®¤äºŒè€…éƒ½æœ‰")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resultStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“needResult ä¸º 1 æ—¶ï¼Œæ‰«ç è¿”å›çš„ç»“æœ")]),t._v("\n                form"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setFieldsValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("orderNumber")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fail")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[t._v("ä½†æ˜¯å†™åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„æ‰«ç åŠŸèƒ½ä»ç„¶æ˜¯ä¸å¯ç”¨çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°æ¥é…ç½®æˆ‘ä»¬çš„æ¥å£åŸŸåï¼Œä¸ç„¶å¾—åˆ°çš„ä¼šæ˜¯ ğŸ‘‡ğŸ‘‡ğŸ‘‡")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/71e5dd759e7980b07e6e4a9567b07e8.jpg",alt:"71e5dd759e7980b07e6e4a9567b07e8"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬éœ€è¦åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°é…ç½® "),a("code",[t._v("JS")]),t._v(" æ¥å£å®‰å…¨åŸŸå")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/imgs/image-20211130131801904.png",alt:"image-20211130131801904"}})]),t._v(" "),a("p",[t._v("è¿™æ ·æˆ‘ä»¬çš„é—®é¢˜å°±èƒ½è¿åˆƒè€Œè§£ï¼Œåœ¨é…ç½®å®‰å…¨åŸŸåçš„æ—¶å€™ï¼Œæ³¨æ„è®¿é—®çš„åŸŸåä¸è¦å¯åŠ¨ä»£ç†ï¼Œä¸ç„¶ä¼šç»‘å®šä¸æˆåŠŸ")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è‡³æ­¤æˆ‘ä»¬çš„éœ€æ±‚å¾—ä»¥å®Œæˆï¼Œæ–‡ç« å¯èƒ½çœ‹èµ·æ¥å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯å®é™…æ“ä½œèµ·æ¥ä¼šç”¨å¾ˆå¤šå„ç§å„æ ·çš„é—®é¢˜ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©åˆ°æœ‰ç±»ä¼¼éœ€æ±‚çš„ä½ ")]),t._v(" "),a("p",[t._v("å°tipsï¼šé‡åˆ°é—®é¢˜çš„æ—¶å€™å¯ä»¥å°è¯•åœ¨å¾®ä¿¡äº¤æµå¹³å°æ‰¾ç­”æ¡ˆï¼Œæˆ–è€…å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£")]),t._v(" "),a("blockquote",[a("p",[t._v("æœ€åï¼Œå¯èƒ½åœ¨å¾ˆå¤šåœ°æ–¹è®²è¯‰çš„ä¸å¤Ÿæ¸…æ™°ï¼Œè¯·è§è°…")]),t._v(" "),a("p",[t._v("ğŸ’Œ å¦‚æœæ–‡ç« æœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ï¼Œæˆ–è€…æœ‰ä»€ä¹ˆç–‘é—®ï¼Œæ¬¢è¿ç•™è¨€ï¼Œä¹Ÿæ¬¢è¿ç§ä¿¡äº¤æµ")])])])}),[],!1,null,null,null);s.default=e.exports}}]);